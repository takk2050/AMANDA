{"version":3,"file":"mixin-node-sdk.cjs.production.min.js","sources":["../node_modules/regenerator-runtime/runtime.js","../src/mixin/sign.ts","../src/mixin/keystore.ts","../src/mixin/tools.ts","../src/services/request.ts","../src/client/user.ts","../src/client/address.ts","../src/client/app.ts","../src/client/asset.ts","../src/client/attachment.ts","../src/client/conversation.ts","../src/mixin/dump_msg.ts","../src/client/message.ts","../src/mixin/encoder.ts","../src/mixin/dump_transaction.ts","../src/client/multisigs.ts","../src/client/pin.ts","../src/client/snapshot.ts","../src/client/transfer.ts","../src/client/oauth.ts","../src/mixin/nfo.ts","../src/client/collectibles.ts","../src/mixin/mvm.ts","../src/client/mvm.ts","../src/client/index.ts","../src/client/blaze.ts","../src/client/network.ts"],"sourcesContent":["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","import { randomBytes, createCipheriv, createHash } from 'crypto';\nimport { pki, util, md } from 'node-forge';\nimport { Uint64LE } from 'int64-buffer';\nimport { Keystore } from '../types';\n\nexport const getSignPIN = (keystore: Keystore, pin?: any, iterator?: any) => {\n  const { session_id, private_key, pin_token, pin: _pin } = keystore;\n  pin = pin || _pin;\n  if (!pin) throw new Error('PIN is required');\n  const blockSize = 16;\n\n  let _privateKey: any = toBuffer(private_key, 'base64');\n  let pinKey = _privateKey.length === 64 ? signEncryptEd25519PIN(pin_token, _privateKey) : signPin(pin_token, private_key, session_id);\n\n  let time = new Uint64LE((Date.now() / 1000) | 0).toBuffer();\n  if (iterator == undefined || iterator === '') {\n    iterator = Date.now() * 1000000;\n  }\n  iterator = new Uint64LE(iterator).toBuffer();\n  pin = Buffer.from(pin, 'utf8');\n  let buf: any = Buffer.concat([pin, Buffer.from(time), Buffer.from(iterator)]);\n  let padding = blockSize - (buf.length % blockSize);\n  let paddingArray = [];\n  for (let i = 0; i < padding; i++) {\n    paddingArray.push(padding);\n  }\n  buf = Buffer.concat([buf, Buffer.from(paddingArray)]);\n  let iv16 = randomBytes(16);\n  let cipher = createCipheriv('aes-256-cbc', pinKey, iv16);\n  cipher.setAutoPadding(false);\n  let encrypted_pin_buff = cipher.update(buf, 'utf-8');\n  encrypted_pin_buff = Buffer.concat([iv16, encrypted_pin_buff]);\n  return Buffer.from(encrypted_pin_buff).toString('base64');\n};\n\nexport function toBuffer(content: any, encoding: any = 'utf8') {\n  if (typeof content === 'object') {\n    content = JSON.stringify(content);\n  }\n  return Buffer.from(content, encoding);\n}\n\nexport function getEd25519Sign(payload: any, privateKey: any) {\n  const header = toBuffer({ alg: 'EdDSA', typ: 'JWT' }).toString('base64');\n  payload = base64url(toBuffer(payload));\n  const result = [header, payload];\n  const sign = base64url(Buffer.from(pki.ed25519.sign({ message: result.join('.'), encoding: 'utf8', privateKey })));\n  result.push(sign);\n  return result.join('.');\n}\n\nexport const signRequest = (method: string, url: string, body: object | string = ''): string => {\n  if (url.startsWith('https://api.mixin.one')) url = url.replace('https://api.mixin.one', '');\n  if (url.startsWith('https://mixin-api.zeromesh.net')) url = url.replace('https://mixin-api.zeromesh.net', '');\n  if (typeof body === 'object') body = JSON.stringify(body);\n  method = method.toUpperCase();\n  return md.sha256\n    .create()\n    .update(method + url + body, 'utf8')\n    .digest()\n    .toHex();\n};\n\nfunction signEncryptEd25519PIN(pinToken: any, privateKey: string) {\n  pinToken = Buffer.from(pinToken, 'base64');\n  return scalarMult(privateKeyToCurve25519(privateKey), pinToken.slice(0, 32));\n}\n\nfunction signPin(pin_token: any, private_key: any, session_id: any) {\n  pin_token = Buffer.from(pin_token, 'base64');\n  private_key = pki.privateKeyFromPem(private_key);\n  const pinKey = private_key.decrypt(pin_token, 'RSA-OAEP', {\n    md: md.sha256.create(),\n    label: session_id,\n  });\n  return hexToBytes(util.binary.hex.encode(pinKey));\n}\n\nfunction hexToBytes(hex: any) {\n  const bytes = new Uint8Array(32);\n  for (let c = 0; c < hex.length; c += 2) {\n    bytes[c / 2] = parseInt(hex.substr(c, 2), 16);\n  }\n  return bytes;\n}\n\nfunction scalarMult(curvePriv: any, publicKey: any) {\n  curvePriv[0] &= 248;\n  curvePriv[31] &= 127;\n  curvePriv[31] |= 64;\n  let sharedKey = new Uint8Array(32);\n  crypto_scalarmult(sharedKey, curvePriv, publicKey);\n  return sharedKey;\n}\n\nexport function base64url(buffer: Buffer) {\n  return Buffer.from(buffer).toString('base64').replace(/\\=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n}\n\nfunction privateKeyToCurve25519(privateKey: any) {\n  const seed = privateKey.slice(0, 32);\n  const sha512 = createHash('sha512');\n  sha512.write(seed, 'binary');\n  const digest = sha512.digest();\n  digest[0] &= 248;\n  digest[31] &= 127;\n  digest[31] |= 64;\n  return digest.slice(0, 32);\n}\n\nfunction crypto_scalarmult(q: any, n: any, p: any) {\n  let z = new Uint8Array(32);\n  let x = new Float64Array(80),\n    r,\n    i;\n  let a = gf(),\n    b = gf(),\n    c = gf(),\n    d = gf(),\n    e = gf(),\n    f = gf();\n  for (i = 0; i < 31; i++) {\n    z[i] = n[i];\n  }\n  z[31] = (n[31] & 127) | 64;\n  z[0] &= 248;\n  unpack25519(x, p);\n  for (i = 0; i < 16; i++) {\n    b[i] = x[i];\n    d[i] = a[i] = c[i] = 0;\n  }\n  a[0] = d[0] = 1;\n  for (i = 254; i >= 0; --i) {\n    r = (z[i >>> 3] >>> (i & 7)) & 1;\n    sel25519(a, b, r);\n    sel25519(c, d, r);\n    A(e, a, c);\n    Z(a, a, c);\n    A(c, b, d);\n    Z(b, b, d);\n    S(d, e);\n    S(f, a);\n    M(a, c, a);\n    M(c, b, e);\n    A(e, a, c);\n    Z(a, a, c);\n    S(b, a);\n    Z(c, d, f);\n    M(a, c, gf([0xdb41, 1]));\n    A(a, a, d);\n    M(c, c, a);\n    M(a, d, f);\n    M(d, b, x);\n    S(b, e);\n    sel25519(a, b, r);\n    sel25519(c, d, r);\n  }\n  for (i = 0; i < 16; i++) {\n    x[i + 16] = a[i];\n    x[i + 32] = c[i];\n    x[i + 48] = b[i];\n    x[i + 64] = d[i];\n  }\n  let x32 = x.subarray(32);\n  let x16 = x.subarray(16);\n  inv25519(x32, x32);\n  M(x16, x16, x32);\n  pack25519(q, x16);\n  return 0;\n}\n\nfunction gf(init: any = undefined) {\n  let i,\n    r = new Float64Array(16);\n  if (init) {\n    for (i = 0; i < init.length; i++) {\n      r[i] = init[i];\n    }\n  }\n  return r;\n}\n\nfunction unpack25519(o: any, n: any) {\n  let i;\n  for (i = 0; i < 16; i++) {\n    o[i] = n[2 * i] + (n[2 * i + 1] << 8);\n  }\n  o[15] &= 0x7fff;\n}\n\nfunction sel25519(p: any, q: any, b: any) {\n  let t,\n    c = ~(b - 1);\n  for (let i = 0; i < 16; i++) {\n    t = c & (p[i] ^ q[i]);\n    p[i] ^= t;\n    q[i] ^= t;\n  }\n}\n\nfunction A(o: any, a: any, b: any) {\n  for (let i = 0; i < 16; i++) {\n    o[i] = a[i] + b[i];\n  }\n}\n\nfunction Z(o: any, a: any, b: any) {\n  for (let i = 0; i < 16; i++) {\n    o[i] = a[i] - b[i];\n  }\n}\n\nfunction M(o: any, a: any, b: any) {\n  let v,\n    c,\n    t0 = 0,\n    t1 = 0,\n    t2 = 0,\n    t3 = 0,\n    t4 = 0,\n    t5 = 0,\n    t6 = 0,\n    t7 = 0,\n    t8 = 0,\n    t9 = 0,\n    t10 = 0,\n    t11 = 0,\n    t12 = 0,\n    t13 = 0,\n    t14 = 0,\n    t15 = 0,\n    t16 = 0,\n    t17 = 0,\n    t18 = 0,\n    t19 = 0,\n    t20 = 0,\n    t21 = 0,\n    t22 = 0,\n    t23 = 0,\n    t24 = 0,\n    t25 = 0,\n    t26 = 0,\n    t27 = 0,\n    t28 = 0,\n    t29 = 0,\n    t30 = 0,\n    b0 = b[0],\n    b1 = b[1],\n    b2 = b[2],\n    b3 = b[3],\n    b4 = b[4],\n    b5 = b[5],\n    b6 = b[6],\n    b7 = b[7],\n    b8 = b[8],\n    b9 = b[9],\n    b10 = b[10],\n    b11 = b[11],\n    b12 = b[12],\n    b13 = b[13],\n    b14 = b[14],\n    b15 = b[15];\n  v = a[0];\n  t0 += v * b0;\n  t1 += v * b1;\n  t2 += v * b2;\n  t3 += v * b3;\n  t4 += v * b4;\n  t5 += v * b5;\n  t6 += v * b6;\n  t7 += v * b7;\n  t8 += v * b8;\n  t9 += v * b9;\n  t10 += v * b10;\n  t11 += v * b11;\n  t12 += v * b12;\n  t13 += v * b13;\n  t14 += v * b14;\n  t15 += v * b15;\n  v = a[1];\n  t1 += v * b0;\n  t2 += v * b1;\n  t3 += v * b2;\n  t4 += v * b3;\n  t5 += v * b4;\n  t6 += v * b5;\n  t7 += v * b6;\n  t8 += v * b7;\n  t9 += v * b8;\n  t10 += v * b9;\n  t11 += v * b10;\n  t12 += v * b11;\n  t13 += v * b12;\n  t14 += v * b13;\n  t15 += v * b14;\n  t16 += v * b15;\n  v = a[2];\n  t2 += v * b0;\n  t3 += v * b1;\n  t4 += v * b2;\n  t5 += v * b3;\n  t6 += v * b4;\n  t7 += v * b5;\n  t8 += v * b6;\n  t9 += v * b7;\n  t10 += v * b8;\n  t11 += v * b9;\n  t12 += v * b10;\n  t13 += v * b11;\n  t14 += v * b12;\n  t15 += v * b13;\n  t16 += v * b14;\n  t17 += v * b15;\n  v = a[3];\n  t3 += v * b0;\n  t4 += v * b1;\n  t5 += v * b2;\n  t6 += v * b3;\n  t7 += v * b4;\n  t8 += v * b5;\n  t9 += v * b6;\n  t10 += v * b7;\n  t11 += v * b8;\n  t12 += v * b9;\n  t13 += v * b10;\n  t14 += v * b11;\n  t15 += v * b12;\n  t16 += v * b13;\n  t17 += v * b14;\n  t18 += v * b15;\n  v = a[4];\n  t4 += v * b0;\n  t5 += v * b1;\n  t6 += v * b2;\n  t7 += v * b3;\n  t8 += v * b4;\n  t9 += v * b5;\n  t10 += v * b6;\n  t11 += v * b7;\n  t12 += v * b8;\n  t13 += v * b9;\n  t14 += v * b10;\n  t15 += v * b11;\n  t16 += v * b12;\n  t17 += v * b13;\n  t18 += v * b14;\n  t19 += v * b15;\n  v = a[5];\n  t5 += v * b0;\n  t6 += v * b1;\n  t7 += v * b2;\n  t8 += v * b3;\n  t9 += v * b4;\n  t10 += v * b5;\n  t11 += v * b6;\n  t12 += v * b7;\n  t13 += v * b8;\n  t14 += v * b9;\n  t15 += v * b10;\n  t16 += v * b11;\n  t17 += v * b12;\n  t18 += v * b13;\n  t19 += v * b14;\n  t20 += v * b15;\n  v = a[6];\n  t6 += v * b0;\n  t7 += v * b1;\n  t8 += v * b2;\n  t9 += v * b3;\n  t10 += v * b4;\n  t11 += v * b5;\n  t12 += v * b6;\n  t13 += v * b7;\n  t14 += v * b8;\n  t15 += v * b9;\n  t16 += v * b10;\n  t17 += v * b11;\n  t18 += v * b12;\n  t19 += v * b13;\n  t20 += v * b14;\n  t21 += v * b15;\n  v = a[7];\n  t7 += v * b0;\n  t8 += v * b1;\n  t9 += v * b2;\n  t10 += v * b3;\n  t11 += v * b4;\n  t12 += v * b5;\n  t13 += v * b6;\n  t14 += v * b7;\n  t15 += v * b8;\n  t16 += v * b9;\n  t17 += v * b10;\n  t18 += v * b11;\n  t19 += v * b12;\n  t20 += v * b13;\n  t21 += v * b14;\n  t22 += v * b15;\n  v = a[8];\n  t8 += v * b0;\n  t9 += v * b1;\n  t10 += v * b2;\n  t11 += v * b3;\n  t12 += v * b4;\n  t13 += v * b5;\n  t14 += v * b6;\n  t15 += v * b7;\n  t16 += v * b8;\n  t17 += v * b9;\n  t18 += v * b10;\n  t19 += v * b11;\n  t20 += v * b12;\n  t21 += v * b13;\n  t22 += v * b14;\n  t23 += v * b15;\n  v = a[9];\n  t9 += v * b0;\n  t10 += v * b1;\n  t11 += v * b2;\n  t12 += v * b3;\n  t13 += v * b4;\n  t14 += v * b5;\n  t15 += v * b6;\n  t16 += v * b7;\n  t17 += v * b8;\n  t18 += v * b9;\n  t19 += v * b10;\n  t20 += v * b11;\n  t21 += v * b12;\n  t22 += v * b13;\n  t23 += v * b14;\n  t24 += v * b15;\n  v = a[10];\n  t10 += v * b0;\n  t11 += v * b1;\n  t12 += v * b2;\n  t13 += v * b3;\n  t14 += v * b4;\n  t15 += v * b5;\n  t16 += v * b6;\n  t17 += v * b7;\n  t18 += v * b8;\n  t19 += v * b9;\n  t20 += v * b10;\n  t21 += v * b11;\n  t22 += v * b12;\n  t23 += v * b13;\n  t24 += v * b14;\n  t25 += v * b15;\n  v = a[11];\n  t11 += v * b0;\n  t12 += v * b1;\n  t13 += v * b2;\n  t14 += v * b3;\n  t15 += v * b4;\n  t16 += v * b5;\n  t17 += v * b6;\n  t18 += v * b7;\n  t19 += v * b8;\n  t20 += v * b9;\n  t21 += v * b10;\n  t22 += v * b11;\n  t23 += v * b12;\n  t24 += v * b13;\n  t25 += v * b14;\n  t26 += v * b15;\n  v = a[12];\n  t12 += v * b0;\n  t13 += v * b1;\n  t14 += v * b2;\n  t15 += v * b3;\n  t16 += v * b4;\n  t17 += v * b5;\n  t18 += v * b6;\n  t19 += v * b7;\n  t20 += v * b8;\n  t21 += v * b9;\n  t22 += v * b10;\n  t23 += v * b11;\n  t24 += v * b12;\n  t25 += v * b13;\n  t26 += v * b14;\n  t27 += v * b15;\n  v = a[13];\n  t13 += v * b0;\n  t14 += v * b1;\n  t15 += v * b2;\n  t16 += v * b3;\n  t17 += v * b4;\n  t18 += v * b5;\n  t19 += v * b6;\n  t20 += v * b7;\n  t21 += v * b8;\n  t22 += v * b9;\n  t23 += v * b10;\n  t24 += v * b11;\n  t25 += v * b12;\n  t26 += v * b13;\n  t27 += v * b14;\n  t28 += v * b15;\n  v = a[14];\n  t14 += v * b0;\n  t15 += v * b1;\n  t16 += v * b2;\n  t17 += v * b3;\n  t18 += v * b4;\n  t19 += v * b5;\n  t20 += v * b6;\n  t21 += v * b7;\n  t22 += v * b8;\n  t23 += v * b9;\n  t24 += v * b10;\n  t25 += v * b11;\n  t26 += v * b12;\n  t27 += v * b13;\n  t28 += v * b14;\n  t29 += v * b15;\n  v = a[15];\n  t15 += v * b0;\n  t16 += v * b1;\n  t17 += v * b2;\n  t18 += v * b3;\n  t19 += v * b4;\n  t20 += v * b5;\n  t21 += v * b6;\n  t22 += v * b7;\n  t23 += v * b8;\n  t24 += v * b9;\n  t25 += v * b10;\n  t26 += v * b11;\n  t27 += v * b12;\n  t28 += v * b13;\n  t29 += v * b14;\n  t30 += v * b15;\n  t0 += 38 * t16;\n  t1 += 38 * t17;\n  t2 += 38 * t18;\n  t3 += 38 * t19;\n  t4 += 38 * t20;\n  t5 += 38 * t21;\n  t6 += 38 * t22;\n  t7 += 38 * t23;\n  t8 += 38 * t24;\n  t9 += 38 * t25;\n  t10 += 38 * t26;\n  t11 += 38 * t27;\n  t12 += 38 * t28;\n  t13 += 38 * t29;\n  t14 += 38 * t30;\n  // t15 left as is\n  // first car\n  c = 1;\n  v = t0 + c + 65535;\n  c = Math.floor(v / 65536);\n  t0 = v - c * 65536;\n  v = t1 + c + 65535;\n  c = Math.floor(v / 65536);\n  t1 = v - c * 65536;\n  v = t2 + c + 65535;\n  c = Math.floor(v / 65536);\n  t2 = v - c * 65536;\n  v = t3 + c + 65535;\n  c = Math.floor(v / 65536);\n  t3 = v - c * 65536;\n  v = t4 + c + 65535;\n  c = Math.floor(v / 65536);\n  t4 = v - c * 65536;\n  v = t5 + c + 65535;\n  c = Math.floor(v / 65536);\n  t5 = v - c * 65536;\n  v = t6 + c + 65535;\n  c = Math.floor(v / 65536);\n  t6 = v - c * 65536;\n  v = t7 + c + 65535;\n  c = Math.floor(v / 65536);\n  t7 = v - c * 65536;\n  v = t8 + c + 65535;\n  c = Math.floor(v / 65536);\n  t8 = v - c * 65536;\n  v = t9 + c + 65535;\n  c = Math.floor(v / 65536);\n  t9 = v - c * 65536;\n  v = t10 + c + 65535;\n  c = Math.floor(v / 65536);\n  t10 = v - c * 65536;\n  v = t11 + c + 65535;\n  c = Math.floor(v / 65536);\n  t11 = v - c * 65536;\n  v = t12 + c + 65535;\n  c = Math.floor(v / 65536);\n  t12 = v - c * 65536;\n  v = t13 + c + 65535;\n  c = Math.floor(v / 65536);\n  t13 = v - c * 65536;\n  v = t14 + c + 65535;\n  c = Math.floor(v / 65536);\n  t14 = v - c * 65536;\n  v = t15 + c + 65535;\n  c = Math.floor(v / 65536);\n  t15 = v - c * 65536;\n  t0 += c - 1 + 37 * (c - 1);\n  // second car\n  c = 1;\n  v = t0 + c + 65535;\n  c = Math.floor(v / 65536);\n  t0 = v - c * 65536;\n  v = t1 + c + 65535;\n  c = Math.floor(v / 65536);\n  t1 = v - c * 65536;\n  v = t2 + c + 65535;\n  c = Math.floor(v / 65536);\n  t2 = v - c * 65536;\n  v = t3 + c + 65535;\n  c = Math.floor(v / 65536);\n  t3 = v - c * 65536;\n  v = t4 + c + 65535;\n  c = Math.floor(v / 65536);\n  t4 = v - c * 65536;\n  v = t5 + c + 65535;\n  c = Math.floor(v / 65536);\n  t5 = v - c * 65536;\n  v = t6 + c + 65535;\n  c = Math.floor(v / 65536);\n  t6 = v - c * 65536;\n  v = t7 + c + 65535;\n  c = Math.floor(v / 65536);\n  t7 = v - c * 65536;\n  v = t8 + c + 65535;\n  c = Math.floor(v / 65536);\n  t8 = v - c * 65536;\n  v = t9 + c + 65535;\n  c = Math.floor(v / 65536);\n  t9 = v - c * 65536;\n  v = t10 + c + 65535;\n  c = Math.floor(v / 65536);\n  t10 = v - c * 65536;\n  v = t11 + c + 65535;\n  c = Math.floor(v / 65536);\n  t11 = v - c * 65536;\n  v = t12 + c + 65535;\n  c = Math.floor(v / 65536);\n  t12 = v - c * 65536;\n  v = t13 + c + 65535;\n  c = Math.floor(v / 65536);\n  t13 = v - c * 65536;\n  v = t14 + c + 65535;\n  c = Math.floor(v / 65536);\n  t14 = v - c * 65536;\n  v = t15 + c + 65535;\n  c = Math.floor(v / 65536);\n  t15 = v - c * 65536;\n  t0 += c - 1 + 37 * (c - 1);\n  o[0] = t0;\n  o[1] = t1;\n  o[2] = t2;\n  o[3] = t3;\n  o[4] = t4;\n  o[5] = t5;\n  o[6] = t6;\n  o[7] = t7;\n  o[8] = t8;\n  o[9] = t9;\n  o[10] = t10;\n  o[11] = t11;\n  o[12] = t12;\n  o[13] = t13;\n  o[14] = t14;\n  o[15] = t15;\n}\n\nfunction S(o: any, a: any) {\n  M(o, a, a);\n}\n\nfunction inv25519(o: any, i: any) {\n  let c = gf();\n  let a;\n  for (a = 0; a < 16; a++) {\n    c[a] = i[a];\n  }\n  for (a = 253; a >= 0; a--) {\n    S(c, c);\n    if (a !== 2 && a !== 4) {\n      M(c, c, i);\n    }\n  }\n  for (a = 0; a < 16; a++) {\n    o[a] = c[a];\n  }\n}\n\nfunction pack25519(o: any, n: any) {\n  let i, j, b;\n  let m = gf(),\n    t = gf();\n  for (i = 0; i < 16; i++) {\n    t[i] = n[i];\n  }\n  car25519(t);\n  car25519(t);\n  car25519(t);\n  for (j = 0; j < 2; j++) {\n    m[0] = t[0] - 0xffed;\n    for (i = 1; i < 15; i++) {\n      m[i] = t[i] - 0xffff - ((m[i - 1] >> 16) & 1);\n      m[i - 1] &= 0xffff;\n    }\n    m[15] = t[15] - 0x7fff - ((m[14] >> 16) & 1);\n    b = (m[15] >> 16) & 1;\n    m[14] &= 0xffff;\n    sel25519(t, m, 1 - b);\n  }\n  for (i = 0; i < 16; i++) {\n    o[2 * i] = t[i] & 0xff;\n    o[2 * i + 1] = t[i] >> 8;\n  }\n}\n\nfunction car25519(o: any) {\n  let i,\n    v,\n    c = 1;\n  for (i = 0; i < 16; i++) {\n    v = o[i] + c + 65535;\n    c = Math.floor(v / 65536);\n    o[i] = v - c * 65536;\n  }\n  o[0] += c - 1 + 37 * (c - 1);\n}\n","import { sign } from 'jsonwebtoken';\nimport { getEd25519Sign, toBuffer } from './sign';\nimport { Keystore } from '../types';\nimport { v4 } from 'uuid';\n\nexport class KeystoreAuth {\n  keystore?: Keystore;\n\n  constructor(keystore?: Keystore) {\n    this.keystore = keystore;\n  }\n\n  signToken(signature: string, requestID: string): string {\n    const { client_id, session_id, private_key, scope } = this.keystore!;\n    const issuedAt = Math.floor(Date.now() / 1000);\n    if (!requestID) requestID = v4();\n    const payload = {\n      uid: client_id,\n      sid: session_id,\n      iat: issuedAt,\n      exp: issuedAt + 3600,\n      jti: requestID,\n      sig: signature,\n      scp: scope || 'FULL',\n    };\n    const _privateKey = toBuffer(private_key, 'base64');\n    return _privateKey.length === 64 ? getEd25519Sign(payload, _privateKey) : sign(payload, private_key, { algorithm: 'RS512' });\n  }\n}\n","import { SHA3 } from 'sha3';\nimport https from 'https';\n\nexport const delay = (n = 500) =>\n  new Promise<void>(resolve => {\n    setTimeout(() => {\n      resolve();\n    }, n);\n  });\n\nexport function toBuffer(content: any, encoding: any = 'utf8') {\n  if (typeof content === 'object') {\n    content = JSON.stringify(content);\n  }\n  return Buffer.from(content, encoding);\n}\n\nexport const hashMember = (ids: string[]) => newHash(ids.sort((a, b) => (a > b ? 1 : -1)).join(''));\n\nexport const newHash = (str: string) => new SHA3(256).update(str).digest('hex');\n\nexport const getFileByURL = (url: string): Promise<Buffer> => {\n  return new Promise((resolve, reject) => {\n    https\n      .get(url, res => {\n        let data: any[] = [];\n        res.on('data', chunk => {\n          data.push(chunk);\n        });\n\n        res.on('end', () => {\n          const buffer = Buffer.concat(data);\n          resolve(buffer);\n        });\n      })\n      .on('error', err => {\n        reject(err);\n      });\n  });\n};\n","// @ts-ignore\nimport axios, { AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios';\nimport { KeystoreAuth } from '../mixin/keystore';\nimport { signRequest } from '../mixin/sign';\nimport { delay } from '../mixin/tools';\nimport { v4 as uuid } from 'uuid';\nimport { Keystore } from '../types';\n\nconst hostURL = ['https://mixin-api.zeromesh.net', 'https://api.mixin.one'];\n\nexport const request = (keystore?: Keystore, token = ''): AxiosInstance => {\n  const ins = axios.create({\n    baseURL: hostURL[0],\n    headers: { 'Content-Type': 'application/json;charset=UTF-8' },\n    timeout: 3000,\n  });\n\n  let k: KeystoreAuth;\n  if (keystore) k = new KeystoreAuth(keystore);\n\n  ins.interceptors.request.use((config: AxiosRequestConfig) => {\n    const { method, data } = config;\n    const uri = ins.getUri(config);\n    const requestID = uuid();\n    config.headers['x-request-id'] = requestID;\n    let jwtToken = '';\n    if (token) jwtToken = token;\n    else if (k) jwtToken = k.signToken(signRequest(method!, uri, data), requestID);\n    config.headers.Authorization = 'Bearer ' + jwtToken;\n    return config;\n  });\n\n  ins.interceptors.response.use(\n    (res: AxiosResponse) => {\n      const { data, error } = res.data;\n      if (error) {\n        try {\n          error.request_id = res.headers['x-request-id'];\n        } catch (e) {\n          console.log(e, res.config);\n        }\n        return error;\n      }\n      return data;\n    },\n    async (e: any) => {\n      if (['ETIMEDOUT', 'ECONNABORTED'].includes(e.code)) {\n        ins.defaults.baseURL = e.config.baseURL = e.config.baseURL === hostURL[0] ? hostURL[1] : hostURL[0];\n        await delay();\n        return ins(e.config);\n      }\n      return Promise.reject(e);\n    },\n  );\n  return ins;\n};\n\nexport const mixinRequest = request();\n","import { AxiosInstance } from 'axios';\nimport { UserClientRequest, User, UserRelationship, UpdateUserParams } from '../types/user';\nimport forge from 'node-forge';\nimport { request } from '../services/request';\n\nexport class UserClient implements UserClientRequest {\n  request!: AxiosInstance;\n\n  userMe(): Promise<User> {\n    return this.request.get(`/me`);\n  }\n\n  readUser(userIdOrIdentityNumber: string): Promise<User> {\n    return this.request.get(`/users/${userIdOrIdentityNumber}`);\n  }\n\n  readBlockUsers(): Promise<User[]> {\n    return this.request.get(`/blocking_users`);\n  }\n\n  readUsers(userIDs: string[]): Promise<User[]> {\n    return this.request.post(`/users/fetch`, userIDs);\n  }\n\n  readFriends(): Promise<User[]> {\n    return this.request.get(`/friends`);\n  }\n\n  searchUser(identityNumberOrPhone: string): Promise<User> {\n    return this.request.get(`/search/${identityNumberOrPhone}`);\n  }\n\n  async createUser(full_name: string, session_secret?: string): Promise<User> {\n    if (session_secret) return this.request.post(`/users`, { full_name, session_secret });\n    const { publicKey, privateKey } = forge.pki.ed25519.generateKeyPair();\n    const params = {\n      full_name,\n      session_secret: Buffer.from(publicKey).toString('base64'),\n    };\n    const u: User = await this.request.post(`/users`, params);\n    u.public_key = publicKey.toString('base64');\n    u.private_key = privateKey.toString('base64');\n    return u;\n  }\n\n  modifyProfile(full_name: string, avatar_base64: string): Promise<User> {\n    return this.updateProfile({ full_name, avatar_base64 });\n  }\n\n  updateProfile(params: UpdateUserParams): Promise<User> {\n    return this.request.post(`/me/preferences`, params);\n  }\n\n  modifyRelationships(relationship: UserRelationship): Promise<User> {\n    return this.request.post(`/relationships`, relationship);\n  }\n}\n\nexport const userMe = (token: string): Promise<User> => request(undefined, token).get('/me');\n\nexport const readFriends = (token: string): Promise<User[]> => request(undefined, token).get(`/friends`);\n\nexport const readBlockUsers = (token: string): Promise<User[]> => request(undefined, token).get(`/blocking_users`);\n","import { Keystore, Address, AddressCreateParams, AddressClientRequest } from '../types';\nimport { AxiosInstance } from 'axios';\nimport { getSignPIN } from '../mixin/sign';\nimport { request } from '../services/request';\n\nexport class AddressClient implements AddressClientRequest {\n  request!: AxiosInstance;\n  keystore!: Keystore;\n\n  createAddress(params: AddressCreateParams, pin?: string): Promise<Address> {\n    params.pin = getSignPIN(this.keystore, pin);\n    return this.request.post('/addresses', params);\n  }\n\n  readAddress(addressID: string): Promise<Address> {\n    return this.request.get(`/addresses/${addressID}`);\n  }\n\n  readAddresses(assetID: string): Promise<Address[]> {\n    return this.request.get(`/assets/${assetID}/addresses`);\n  }\n\n  deleteAddress(addressID: string, pin?: string): Promise<void> {\n    pin = getSignPIN(this.keystore, pin);\n    return this.request.post(`/addresses/${addressID}/delete`, { pin });\n  }\n}\n\nexport const readAddresses = (token: string, assetID: string): Promise<Address[]> => request(undefined, token).get(`/assets/${assetID}/addresses`);\n","import { AxiosInstance } from 'axios';\nimport { App, AppClientRequest, FavoriteApp, UpdateAppRequest } from '../types';\n\nexport class AppClient implements AppClientRequest {\n  request!: AxiosInstance;\n\n  updateApp(appID: string, params: UpdateAppRequest): Promise<App> {\n    return this.request.post(`/apps/${appID}`, params);\n  }\n\n  readFavoriteApps(userID: string): Promise<FavoriteApp[]> {\n    return this.request.get(`/users/${userID}/apps/favorite`);\n  }\n\n  favoriteApp(appID: string): Promise<FavoriteApp> {\n    return this.request.post(`/apps/${appID}/favorite`);\n  }\n\n  unfavoriteApp(appID: string): Promise<void> {\n    return this.request.post(`/apps/${appID}/unfavorite`);\n  }\n}\n","import { AxiosInstance } from 'axios';\nimport { request } from '../services/request';\nimport { Asset, AssetClientRequest, ExchangeRate, NetworkTicker } from '../types';\n\nexport class AssetClient implements AssetClientRequest {\n  request!: AxiosInstance;\n\n  readAsset(assetID: string): Promise<Asset> {\n    return this.request.get(`/assets/${assetID}`);\n  }\n\n  readAssets(): Promise<Asset[]> {\n    return this.request.get('/assets');\n  }\n\n  readAssetFee(assetID: string): Promise<number> {\n    return this.request.get(`/assets/${assetID}/fee`);\n  }\n\n  readExchangeRates(): Promise<ExchangeRate[]> {\n    return this.request.get('/fiats');\n  }\n\n  readAssetNetworkTicker(asset: string, offset?: string): Promise<NetworkTicker> {\n    return this.request.get(`/network/ticker`, { params: { offset, asset } });\n  }\n}\n\nexport const readAssets = (token: string): Promise<Asset[]> => request(undefined, token).get('/assets');\n\nexport const readAsset = (token: string, assetID: string): Promise<Asset> => request(undefined, token).get(`/assets/${assetID}`);\n","import axios, { AxiosInstance, AxiosResponse } from 'axios';\nimport { Attachment, AttachmentClientRequest } from '../types/attachment';\n\nexport class AttachmentClient implements AttachmentClientRequest {\n  request!: AxiosInstance;\n\n  createAttachment(): Promise<Attachment> {\n    return this.request.post(`/attachments`);\n  }\n\n  showAttachment(attachment_id: string): Promise<Attachment> {\n    return this.request.get(`/attachments/${attachment_id}`);\n  }\n\n  async uploadFile(file: File): Promise<Attachment> {\n    const { view_url, upload_url, attachment_id } = await this.createAttachment();\n    await uploadAttachmentTo(upload_url!, file);\n    return { view_url, attachment_id };\n  }\n}\n\nexport async function uploadAttachmentTo(uploadURL: string, file: File): Promise<AxiosResponse> {\n  return axios.create()({\n    url: uploadURL,\n    method: 'PUT',\n    data: file,\n    headers: {\n      'x-amz-acl': 'public-read',\n      'Content-Type': 'application/octet-stream',\n    },\n    maxContentLength: 2147483648,\n  });\n}\n\nexport function uploadAttachment(attachment: Attachment, file: File): Promise<AxiosResponse> {\n  if (!attachment.upload_url) return Promise.reject(new Error('No upload URL'));\n  return uploadAttachmentTo(attachment.upload_url!, file);\n}\n","import { AxiosInstance } from 'axios';\nimport { request } from '../services/request';\nimport { ConversationClientRequest, ConversationCreateParams, Conversation, ConversationUpdateParams, Participant, ConversationAction, Keystore } from '../types';\n\nexport class ConversationClient implements ConversationClientRequest {\n  keystore!: Keystore;\n  request!: AxiosInstance;\n  uniqueConversationID!: (userID: string, recipientID: string) => string;\n\n  createConversation(params: ConversationCreateParams): Promise<Conversation> {\n    return this.request.post('/conversations', params);\n  }\n\n  updateConversation(conversationID: string, params: ConversationUpdateParams): Promise<Conversation> {\n    return this.request.post(`/conversations/${conversationID}`, params);\n  }\n\n  createContactConversation(userID: string): Promise<Conversation> {\n    return this.createConversation({\n      category: 'CONTACT',\n      conversation_id: this.uniqueConversationID(this.keystore.client_id, userID),\n      participants: [{ user_id: userID }],\n    });\n  }\n\n  createGroupConversation(conversationID: string, name: string, participant: Participant[]): Promise<Conversation> {\n    return this.createConversation({\n      category: 'GROUP',\n      conversation_id: conversationID,\n      name,\n      participants: participant,\n    });\n  }\n\n  readConversation(conversationID: string): Promise<Conversation> {\n    return this.request.get(`/conversations/${conversationID}`);\n  }\n\n  managerConversation(conversationID: string, action: ConversationAction, participant: Participant[]): Promise<Conversation> {\n    return this.request.post(`/conversations/${conversationID}/participants/${action}`, participant);\n  }\n\n  addParticipants(conversationID: string, userIDs: string[]): Promise<Conversation> {\n    var participants: Participant[] = userIDs.map(userID => ({\n      user_id: userID,\n    }));\n    return this.managerConversation(conversationID, 'ADD', participants);\n  }\n\n  removeParticipants(conversationID: string, userIDs: string[]): Promise<Conversation> {\n    var participants: Participant[] = userIDs.map(userID => ({\n      user_id: userID,\n    }));\n    return this.managerConversation(conversationID, 'REMOVE', participants);\n  }\n\n  adminParticipants(conversationID: string, userIDs: string[]): Promise<Conversation> {\n    var participants: Participant[] = userIDs.map(userID => ({\n      user_id: userID,\n      role: 'ADMIN',\n    }));\n    return this.managerConversation(conversationID, 'ROLE', participants);\n  }\n\n  rotateConversation(conversationID: string): Promise<Conversation> {\n    return this.request.post(`/conversations/${conversationID}/rotate`);\n  }\n}\n\nexport const readConversation = (token: string, conversation_id: string): Promise<Conversation> => request(undefined, token).get(`conversations/${conversation_id}`);\n","import { Session } from '../types';\nimport { v4 as uuid, parse as uuidParse } from 'uuid';\nimport { scalarMult } from 'tweetnacl';\nimport crypto from 'crypto';\nimport { Point } from '@noble/ed25519';\n\nexport function privateKeyToCurve25519(privateKey: Buffer) {\n  const h = crypto.createHash('sha512');\n  h.update(privateKey.subarray(0, 32));\n  const digest = h.digest();\n\n  digest[0] &= 248;\n  digest[31] &= 127;\n  digest[31] |= 64;\n\n  return digest.subarray(0, 32);\n}\n\nexport function generateUserCheckSum(_sessions: Session[]): string {\n  const sessions = _sessions.map(v => v.session_id);\n  sessions.sort();\n  const md5 = crypto.createHash('md5');\n  for (const session of sessions) md5.update(session);\n  return md5.digest('hex');\n}\n\nexport function decryptMessageData(_data: string, sessionID: string, _privateKey: string): string {\n  const data = Buffer.from(_data, 'base64');\n  const privateKey = Buffer.from(_privateKey, 'base64');\n  const size = 16 + 48;\n  const total = data.length;\n  if (total < 1 + 2 + 32 + size + 12) throw new Error('invalid data size');\n  const sessionLen = data.readUInt16LE(1);\n  const prefixSize = 35 + sessionLen * size;\n  let key = Buffer.alloc(0);\n  for (let i = 35; i < prefixSize; i += size) {\n    const uid = uuid({ random: data.subarray(i, i + 16) });\n    if (uid === sessionID) {\n      const pub = data.subarray(3, 35);\n      const priv = privateKeyToCurve25519(privateKey);\n      const dst = scalarMult(priv, pub);\n      const iv = data.subarray(i + 16, i + 32);\n      const decipher = crypto.createDecipheriv('aes-256-cbc', dst, iv);\n      key = data.subarray(i + 32, i + size);\n      key = decipher.update(key);\n      key = Buffer.concat([key, decipher.final()]);\n      break;\n    }\n  }\n  if (key.length !== 16) throw new Error('session id not found');\n  const nonce = data.subarray(prefixSize, prefixSize + 12);\n  const decipher = crypto.createDecipheriv('aes-128-gcm', key, nonce);\n  decipher.setAuthTag(data.subarray(total - 16));\n  let raw = decipher.update(data.subarray(prefixSize + 12, total - 16));\n  raw = Buffer.concat([raw, decipher.final()]);\n  return raw.toString('base64');\n}\n\nexport const encryptMessageData = (data: Buffer, sessions: Session[], privateKey: Buffer): string => {\n  let key = crypto.randomBytes(16);\n  let nonce = crypto.randomBytes(12);\n  let cipher = crypto.createCipheriv('aes-128-gcm', key, nonce);\n  const firstBlock = cipher.update(data);\n  const lastBlock = cipher.final();\n  const authTag = cipher.getAuthTag();\n  let cipherText = Buffer.concat([firstBlock, lastBlock, authTag]);\n  let sessionLen = Buffer.alloc(2);\n  sessionLen.writeUInt16LE(sessions.length);\n  let pub = Point.fromHex(privateKey.subarray(32)).toX25519();\n  let sessionsBytes = Buffer.from([]);\n  for (let s of sessions) {\n    let clientPub = Buffer.from(s.public_key!, 'base64');\n    const priv = privateKeyToCurve25519(privateKey);\n    const dst = scalarMult(priv, clientPub);\n    const iv = crypto.randomBytes(16);\n    const padText = Buffer.alloc(16).fill(16);\n    const shared = Buffer.concat([key, padText]);\n    const cipherText = Buffer.alloc(16 + shared.length);\n    cipherText.set(iv, 0);\n    const cipher = crypto.createCipheriv('aes-256-cbc', dst, iv);\n    let enc = cipher.update(shared);\n    cipherText.set(enc, 16);\n    const id = uuidParse(s.session_id);\n    sessionsBytes = Buffer.concat([sessionsBytes, id as Buffer, cipherText]);\n  }\n  let result = Buffer.from([1]);\n  result = Buffer.concat([result, sessionLen, pub, sessionsBytes, nonce, cipherText]);\n  return result.toString('base64url');\n};\n\nexport const decryptAttachment = (data: Buffer, _keys: string) => {\n  const aesKey = Buffer.from(_keys, 'base64').subarray(0, 32);\n  const iv = data.subarray(0, 16);\n  let cipherText = data.subarray(16, data.byteLength - 32);\n\n  const decipher = crypto.createDecipheriv('aes-256-cbc', aesKey, iv);\n  cipherText = decipher.update(cipherText);\n  cipherText = Buffer.concat([cipherText, decipher.final()]);\n  return cipherText;\n};\n","import { AxiosInstance } from 'axios';\nimport { writeFileSync, mkdirSync, existsSync } from 'fs';\nimport { resolve } from 'path';\nimport {\n  AcknowledgementRequest,\n  Keystore,\n  MessageCategory,\n  MessageClientRequest,\n  MessageRequest,\n  MessageView,\n  ImageMessage,\n  DataMessage,\n  StickerMessage,\n  ContactMessage,\n  AppCardMessage,\n  AudioMessage,\n  LiveMessage,\n  LocationMessage,\n  VideoMessage,\n  AppButtonMessage,\n  RecallMessage,\n  Session,\n  EncryptMessageView,\n  Attachment,\n} from '../types';\nimport { decryptAttachment, encryptMessageData, generateUserCheckSum } from '../mixin/dump_msg';\nimport { getFileByURL } from '../mixin/tools';\n\nlet _sessionCache: { [key: string]: Session[] } = {};\n\nexport class MessageClient implements MessageClientRequest {\n  keystore!: Keystore;\n  request!: AxiosInstance;\n  newUUID!: () => string;\n  uniqueConversationID!: (userID: string, recipientID: string) => string;\n  showAttachment!: (attachment_id: string) => Promise<Attachment>;\n\n  sendAcknowledgements(messages: AcknowledgementRequest[]): Promise<void> {\n    return this.request.post('/acknowledgements', messages);\n  }\n\n  sendAcknowledgement(message: AcknowledgementRequest): Promise<void> {\n    return this.sendAcknowledgements([message]);\n  }\n\n  sendMessage(message: MessageRequest): Promise<MessageView> {\n    return this.request.post('/messages', message);\n  }\n\n  sendMessages(messages: MessageRequest[]): Promise<void> {\n    return this.request.post('/messages', messages);\n  }\n\n  sendMsg(recipient_id: string, category: MessageCategory, data: any): Promise<MessageView> {\n    if (typeof data === 'object') data = JSON.stringify(data);\n    return this.sendMessage({\n      category,\n      recipient_id,\n      conversation_id: this.uniqueConversationID(this.keystore.client_id, recipient_id),\n      message_id: this.newUUID(),\n      data: Buffer.from(data).toString('base64url'),\n    });\n  }\n\n  sendMessageText(userID: string, text: string): Promise<MessageView> {\n    return this.sendMsg(userID, 'PLAIN_TEXT', text);\n  }\n\n  sendMessagePost(userID: string, text: string): Promise<MessageView> {\n    return this.sendMsg(userID, 'PLAIN_POST', text);\n  }\n\n  sendTextMsg(userID: string, text: string): Promise<MessageView> {\n    return this.sendMsg(userID, 'PLAIN_TEXT', text);\n  }\n\n  sendPostMsg(userID: string, text: string): Promise<MessageView> {\n    return this.sendMsg(userID, 'PLAIN_POST', text);\n  }\n\n  sendImageMsg(userID: string, image: ImageMessage): Promise<MessageView> {\n    return this.sendMsg(userID, 'PLAIN_IMAGE', image);\n  }\n\n  sendDataMsg(userID: string, data: DataMessage): Promise<MessageView> {\n    return this.sendMsg(userID, 'PLAIN_DATA', data);\n  }\n\n  sendStickerMsg(userID: string, sticker: StickerMessage): Promise<MessageView> {\n    return this.sendMsg(userID, 'PLAIN_STICKER', sticker);\n  }\n\n  sendContactMsg(userID: string, contact: ContactMessage): Promise<MessageView> {\n    return this.sendMsg(userID, 'PLAIN_CONTACT', contact);\n  }\n\n  sendAppCardMsg(userID: string, appCard: AppCardMessage): Promise<MessageView> {\n    return this.sendMsg(userID, 'APP_CARD', appCard);\n  }\n\n  sendAudioMsg(userID: string, audio: AudioMessage): Promise<MessageView> {\n    return this.sendMsg(userID, 'PLAIN_AUDIO', audio);\n  }\n\n  sendLiveMsg(userID: string, live: LiveMessage): Promise<MessageView> {\n    return this.sendMsg(userID, 'PLAIN_LIVE', live);\n  }\n\n  sendVideoMsg(userID: string, video: VideoMessage): Promise<MessageView> {\n    return this.sendMsg(userID, 'PLAIN_VIDEO', video);\n  }\n\n  sendLocationMsg(userID: string, location: LocationMessage): Promise<MessageView> {\n    return this.sendMsg(userID, 'PLAIN_LOCATION', location);\n  }\n\n  sendAppButtonMsg(userID: string, appButton: AppButtonMessage[]): Promise<MessageView> {\n    return this.sendMsg(userID, 'APP_BUTTON_GROUP', appButton);\n  }\n\n  sendRecallMsg(userID: string, message: RecallMessage): Promise<MessageView> {\n    return this.sendMsg(userID, 'MESSAGE_RECALL', message);\n  }\n\n  sendEncryptMessage(message: MessageRequest): Promise<EncryptMessageView> {\n    return this._sendEncryptMsg(message.recipient_id!, message.category, message.data, false, message.message_id, message.conversation_id);\n  }\n\n  async _sendEncryptMsg(userID: string, category: MessageCategory, data: any, isRetry = false, message_id?: string, conversation_id?: string): Promise<EncryptMessageView> {\n    if (!category.startsWith('ENCRYPTED_')) return Promise.reject('category must start with ENCRYPTED_');\n    if (typeof data === 'object') data = JSON.stringify(data);\n    const sessions = await this.getSessionsWithCache([userID]);\n    const data_base64 = encryptMessageData(Buffer.from(data), sessions[userID], Buffer.from(this.keystore.private_key, 'base64'));\n    const checksum = generateUserCheckSum(sessions[userID] || []);\n    const recipient_sessions = sessions[userID].map(v => ({ session_id: v.session_id }));\n    if (!message_id) message_id = this.newUUID();\n    if (!conversation_id) conversation_id = this.uniqueConversationID(this.keystore.client_id, userID);\n    const [res] = await this.sendEncryptMessagesRaw([{ category, recipient_id: userID, conversation_id, message_id, data_base64, checksum, recipient_sessions }]);\n    if (res.state === 'SUCCESS' || res.sessions.length === 0 || isRetry) return res;\n    this.cacheSession(res.sessions);\n    return this._sendEncryptMsg(userID, category, data, true, message_id);\n  }\n\n  sendEncryptMessagesRaw(messages: MessageRequest[]): Promise<EncryptMessageView[]> {\n    return this.request.post('/encrypted_messages', messages);\n  }\n\n  sendEncryptTextMsg(userID: string, text: string): Promise<EncryptMessageView> {\n    return this._sendEncryptMsg(userID, 'ENCRYPTED_TEXT', text);\n  }\n\n  sendEncryptPostMsg(userID: string, text: string): Promise<EncryptMessageView> {\n    return this._sendEncryptMsg(userID, 'ENCRYPTED_POST', text);\n  }\n\n  sendEncryptImageMsg(userID: string, image: ImageMessage): Promise<EncryptMessageView> {\n    return this._sendEncryptMsg(userID, 'ENCRYPTED_IMAGE', image);\n  }\n\n  sendEncryptDataMsg(userID: string, data: DataMessage): Promise<EncryptMessageView> {\n    return this._sendEncryptMsg(userID, 'ENCRYPTED_DATA', data);\n  }\n\n  sendEncryptStickerMsg(userID: string, sticker: StickerMessage): Promise<EncryptMessageView> {\n    return this._sendEncryptMsg(userID, 'ENCRYPTED_STICKER', sticker);\n  }\n\n  sendEncryptContactMsg(userID: string, contact: ContactMessage): Promise<EncryptMessageView> {\n    return this._sendEncryptMsg(userID, 'ENCRYPTED_CONTACT', contact);\n  }\n\n  sendEncryptAudioMsg(userID: string, audio: AudioMessage): Promise<EncryptMessageView> {\n    return this._sendEncryptMsg(userID, 'ENCRYPTED_AUDIO', audio);\n  }\n\n  sendEncryptLiveMsg(userID: string, live: LiveMessage): Promise<EncryptMessageView> {\n    return this._sendEncryptMsg(userID, 'ENCRYPTED_LIVE', live);\n  }\n\n  sendEncryptVideoMsg(userID: string, video: VideoMessage): Promise<EncryptMessageView> {\n    return this._sendEncryptMsg(userID, 'ENCRYPTED_VIDEO', video);\n  }\n\n  sendEncryptLocationMsg(userID: string, location: LocationMessage): Promise<EncryptMessageView> {\n    return this._sendEncryptMsg(userID, 'ENCRYPTED_LOCATION', location);\n  }\n\n  async sendEncryptMessages(_messages: MessageRequest[]): Promise<EncryptMessageView[]> {\n    return this._sendEncryptMsgs(_messages);\n  }\n\n  async _sendEncryptMsgs(_messages: MessageRequest[], isRetry = false, resp: EncryptMessageView[] = []): Promise<EncryptMessageView[]> {\n    let userIDs = _messages.map(v => v.recipient_id!);\n    const sessions = await this.getSessionsWithCache(userIDs);\n    const msgs: MessageRequest[] = [];\n    const msgMap = new Map<string, MessageRequest>();\n    for (const msg of _messages) {\n      msgMap.set(msg.message_id!, msg);\n      let { category, recipient_id, data, message_id, conversation_id } = msg;\n      if (!category.startsWith('ENCRYPTED_')) throw new Error('category must start with ENCRYPTED_');\n      let session = sessions[recipient_id!];\n      const data_base64 = encryptMessageData(Buffer.from(data!), session, Buffer.from(this.keystore.private_key, 'base64'));\n      const checksum = generateUserCheckSum(session || []);\n      const recipient_sessions = session.map(v => ({ session_id: v.session_id }));\n      if (!message_id) message_id = this.newUUID();\n      if (!conversation_id) conversation_id = this.uniqueConversationID(this.keystore.client_id, recipient_id!);\n      msgs.push({ category, recipient_id, conversation_id, message_id, data_base64, checksum, recipient_sessions });\n    }\n\n    const res = await this.sendEncryptMessagesRaw(msgs);\n    let unsent: MessageRequest[] = [];\n    for (const s of res) {\n      if (s.state === 'SUCCESS' || isRetry) resp.push(s);\n      else {\n        this.cacheSession(s.sessions);\n        unsent.push(msgMap.get(s.message_id)!);\n      }\n    }\n    if (unsent.length === 0 || isRetry) return resp;\n    return this._sendEncryptMsgs(unsent, true, resp);\n  }\n\n  async getSessions(userIDs: string[]): Promise<Session[]> {\n    return this.request.post('/sessions/fetch', userIDs);\n  }\n\n  async getSessionsWithCache(userIDs: string[]): Promise<{ [key: string]: Session[] }> {\n    let needFetch: string[] = [];\n    let result: { [key: string]: Session[] } = {};\n    for (const userID of userIDs) {\n      const session = this.getSessionByCache(userID);\n      if (session) {\n        result[userID] = session;\n        continue;\n      } else {\n        needFetch.push(userID);\n      }\n    }\n    if (needFetch.length === 0) return result;\n    const sessions: Session[] = await this.request.post('/sessions/fetch', needFetch);\n\n    const _result = this.cacheSession(sessions);\n    result = { ...result, ..._result };\n    return result;\n  }\n\n  cacheSession(sessions: Session[]) {\n    if (!existsSync('.sessions')) mkdirSync('.sessions');\n    let result: { [key: string]: Session[] } = {};\n    sessions.forEach(session => {\n      if (!session.user_id) return;\n      if (!result[session.user_id]) result[session.user_id] = [];\n      result[session.user_id].push(session);\n    });\n    for (const userID in result) {\n      _sessionCache[userID] = result[userID];\n      const sessionPath = resolve(process.cwd(), '.sessions', `${userID}.json`);\n      writeFileSync(sessionPath, JSON.stringify(result[userID]));\n    }\n    return result;\n  }\n\n  async decryptAttachmentByMsgData(msgData: { attachment_id: string; key?: string }): Promise<Buffer> {\n    if (typeof msgData !== 'object') return Promise.reject(`msgData should be an object...`);\n    if (!msgData.attachment_id) return Promise.reject(`msgData should contain attachment_id...`);\n    const { view_url } = await this.showAttachment(msgData.attachment_id);\n    const raw = await getFileByURL(view_url);\n    if (!msgData.key) return raw;\n    return decryptAttachment(raw, msgData.key);\n  }\n\n  getSessionByCache(userID: string): Session[] | undefined {\n    return _sessionCache[userID];\n  }\n}\n","import { Aggregated, Input, Output } from '../types';\nimport { BigNumber } from 'bignumber.js';\nimport { parse } from 'uuid';\n\nconst aggregatedSignaturePrefix = 0xff01;\nconst empty = Buffer.from([0x00, 0x00]);\n\nexport const magic = Buffer.from([0x77, 0x77]);\nexport const maxEncodingInt = 0xffff;\n\nexport const TxVersion = 0x02;\n\nexport const OperatorSum = 0xfe;\nexport const OperatorCmp = 0xff;\n\nexport class Encoder {\n  buf: Buffer;\n\n  constructor(buf: Buffer) {\n    this.buf = buf;\n  }\n\n  write(buf: Buffer) {\n    this.buf = Buffer.concat([this.buf, buf]);\n  }\n\n  writeBytes(buf: Buffer) {\n    const len = buf.byteLength;\n    if (len > 65 * 21) {\n      throw new Error('bytes too long. max length is 21 * 65, current length is ' + len);\n    }\n\n    this.writeInt(len);\n    this.write(buf);\n  }\n\n  writeInt(i: number) {\n    if (i > maxEncodingInt) {\n      throw new Error('int overflow');\n    }\n    const buf = Buffer.alloc(2);\n    buf.writeUInt16BE(i);\n    this.write(buf);\n  }\n\n  writeUint64(i: bigint) {\n    const buf = Buffer.alloc(8);\n    buf.writeBigUInt64BE(i);\n    this.write(buf);\n  }\n\n  writeUint16(i: number) {\n    const buf = Buffer.alloc(2);\n    buf.writeUInt16BE(i);\n    this.write(buf);\n  }\n\n  writeInteger(i: number) {\n    const b = getIntBytes(i);\n    this.writeInt(b.length);\n    this.write(Buffer.from(b));\n  }\n\n  writeSlice(str: Buffer) {\n    const l = str.length;\n    if (l > 128) throw new Error('slice too long');\n    this.write(Buffer.from([l]));\n    this.write(str);\n  }\n\n  writeUUID(id: string) {\n    const uuid: any = parse(id);\n    for (let i = 0; i < uuid.length; i++) this.write(Buffer.from([uuid[i]]));\n  }\n\n  encodeInput(i: Input) {\n    this.write(Buffer.from(i.hash!, 'hex'));\n    this.writeInt(i.index!);\n\n    if (!i.genesis) i.genesis = '';\n    this.writeInt(i.genesis.length);\n    this.write(Buffer.from(i.genesis));\n    const d = i.deposit;\n    if (typeof d === 'undefined') {\n      this.write(empty);\n    } else {\n      // TODO... to test...\n      this.write(magic);\n      this.write(Buffer.from(d.chain, 'hex'));\n\n      const asset = Buffer.from(d.asset);\n      this.writeInt(asset.byteLength);\n      this.write(asset);\n\n      const tx = Buffer.from(d.transaction);\n      this.writeInt(tx.byteLength);\n      this.write(tx);\n\n      this.writeUint64(d.index);\n      this.writeInteger(d.amount);\n    }\n    const m = i.mint;\n    if (typeof m === 'undefined') {\n      this.write(empty);\n    } else {\n      this.write(magic);\n      if (!m.group) m.group = '';\n      this.writeInt(m.group.length);\n      this.write(Buffer.from(m.group));\n\n      this.writeUint64(m.batch);\n      this.writeInteger(m.amount);\n    }\n  }\n\n  encodeOutput(o: Output) {\n    if (!o.type) o.type = 0;\n    this.write(Buffer.from([0x00, o.type]));\n    this.writeInteger(new BigNumber(1e8).times(new BigNumber(o.amount!)).toNumber());\n    this.writeInt(o.keys!.length);\n\n    o.keys!.forEach(k => this.write(Buffer.from(k, 'hex')));\n\n    this.write(Buffer.from(o.mask!, 'hex'));\n\n    const s = Buffer.from(o.script!, 'hex');\n    this.writeInt(s.byteLength);\n    this.write(s);\n\n    const w = o.withdrawal;\n    if (typeof w === 'undefined') {\n      this.write(empty);\n    } else {\n      // TODO... not check...\n      this.write(magic);\n      this.write(Buffer.from(w.chain, 'hex'));\n\n      const asset = Buffer.from(w.asset);\n      this.writeInt(asset.byteLength);\n      this.write(asset);\n\n      if (!w.address) w.address = '';\n\n      const addr = Buffer.from(w.address);\n      this.writeInt(addr.byteLength);\n      this.write(addr);\n\n      const tag = Buffer.from(w.tag);\n      this.writeInt(tag.byteLength);\n      this.write(tag);\n    }\n  }\n\n  encodeAggregatedSignature(js: Aggregated) {\n    this.writeInt(maxEncodingInt);\n    this.writeInt(aggregatedSignaturePrefix);\n    this.write(Buffer.from(js.signature, 'hex'));\n\n    if (js.signers.length === 0) {\n      this.write(Buffer.from([0x00]));\n      this.writeInt(0);\n      return;\n    }\n\n    js.signers.forEach((m, i) => {\n      if (i > 0 && m <= js.signers[i - 1]) {\n        throw new Error('signers not sorted');\n      }\n      if (m > maxEncodingInt) {\n        throw new Error('signer overflow');\n      }\n    });\n\n    const max = js.signers[js.signers.length - 1];\n\n    if (((((max / 8) | 0) + 1) | 0) > js.signature.length * 2) {\n      // TODO... not check...\n      this.write(Buffer.from([0x01]));\n      this.writeInt(js.signature.length);\n      js.signers.forEach(m => this.writeInt(m));\n      return;\n    }\n\n    const masks = Buffer.alloc((((max / 8) | 0) + 1) | 0);\n    js.signers.forEach(m => (masks[(m / 8) | 0] ^= 1 << (m % 8 | 0)));\n    this.write(Buffer.from([0x00]));\n    this.writeInt(masks.length);\n    this.write(masks);\n  }\n\n  encodeSignature(sm: { [key: number]: string }) {\n    const ss = Object.keys(sm)\n      .map((j, i) => ({ index: j, sig: sm[i] }))\n      .sort((a, b) => Number(a.index) - Number(b.index));\n\n    this.writeInt(ss.length);\n    ss.forEach(s => {\n      this.writeUint16(Number(s.index));\n      this.write(Buffer.from(s.sig, 'hex'));\n    });\n  }\n}\n\nfunction getIntBytes(x: number) {\n  const bytes = [];\n  do {\n    if (x === 0) break;\n    bytes.unshift(x & 255);\n    x = (x / 2 ** 8) | 0;\n  } while (true);\n  return bytes;\n}\n","import { GhostKeys, Transaction } from '../types';\nimport { Encoder, magic, maxEncodingInt, OperatorCmp, OperatorSum } from './encoder';\n\nexport function dumpTransaction(signed: Transaction): string {\n  const enc = new Encoder(magic);\n  enc.write(Buffer.from([0x00, signed.version!]));\n  enc.write(Buffer.from(signed.asset, 'hex'));\n\n  const il = signed.inputs!.length;\n  enc.writeInt(il);\n  signed.inputs!.forEach(i => enc.encodeInput(i));\n\n  const ol = signed.outputs!.length;\n  enc.writeInt(ol);\n  signed.outputs!.forEach(o => enc.encodeOutput(o));\n\n  const e = Buffer.from(signed.extra!, 'hex');\n  enc.writeInt(e.byteLength);\n  enc.write(e);\n\n  if (signed.aggregated) {\n    enc.encodeAggregatedSignature(signed.aggregated);\n  } else {\n    const sl = signed.signatures ? Object.keys(signed.signatures).length : 0;\n    if (sl == maxEncodingInt) throw new Error('signatures overflow');\n    enc.writeInt(sl);\n    if (sl > 0) {\n      enc.encodeSignature(signed.signatures!);\n    }\n  }\n  return enc.buf.toString('hex');\n}\n\nexport function DumpOutputFromGhostKey(gi: GhostKeys, amount: string, threshold: number) {\n  const { mask, keys } = gi;\n  return {\n    mask,\n    keys,\n    amount: Number(amount).toFixed(8),\n    script: Buffer.from([OperatorCmp, OperatorSum, threshold]).toString('hex'),\n  };\n}\n","import { AxiosInstance } from 'axios';\nimport { base64url, getSignPIN } from '../mixin/sign';\nimport { BigNumber } from 'bignumber.js';\nimport { Keystore, MultisigClientRequest, MultisigRequest, MultisigUTXO, MultisigAction, RawTransactionInput, Transaction, GhostInput, GhostKeys } from '../types';\nimport { DumpOutputFromGhostKey, dumpTransaction } from '../mixin/dump_transaction';\nimport { hashMember, newHash } from '../mixin/tools';\nimport { TxVersion } from '../mixin/encoder';\n\nexport class MultisigsClient implements MultisigClientRequest {\n  keystore!: Keystore;\n  request!: AxiosInstance;\n\n  readMultisigs(offset: string, limit: number): Promise<MultisigUTXO[]> {\n    return this.request.get(`/multisigs`, { params: { offset, limit } });\n  }\n\n  readMultisigOutput(id: string): Promise<MultisigUTXO> {\n    return this.request.get(`/multisigs/outputs/${id}`);\n  }\n\n  readMultisigOutputs(members: string[], threshold: number, offset: string, limit: number): Promise<MultisigUTXO[]> {\n    if ((members.length > 0 && threshold < 1) || threshold > members.length) return Promise.reject(new Error('Invalid threshold or members'));\n    const params: any = { threshold: Number(threshold), offset, limit };\n    params.members = hashMember(members);\n    return this.request.get(`/multisigs/outputs`, { params });\n  }\n\n  createMultisig(action: MultisigAction, raw: string): Promise<MultisigRequest> {\n    return this.request.post(`/multisigs/requests`, { action, raw });\n  }\n\n  signMultisig(request_id: string, pin?: string): Promise<MultisigRequest> {\n    pin = getSignPIN(this.keystore, pin);\n    return this.request.post(`/multisigs/requests/${request_id}/sign`, { pin });\n  }\n\n  cancelMultisig(request_id: string): Promise<void> {\n    return this.request.post(`/multisigs/requests/${request_id}/cancel`);\n  }\n\n  unlockMultisig(request_id: string, pin?: string): Promise<void> {\n    pin = getSignPIN(this.keystore, pin);\n    return this.request.post(`/multisigs/requests/${request_id}/unlock`, {\n      pin,\n    });\n  }\n\n  readGhostKeys(receivers: string[], index: number): Promise<GhostKeys> {\n    return this.request.post('/outputs', { receivers, index, hint: '' });\n  }\n\n  batchReadGhostKeys(inputs: GhostInput[]): Promise<GhostKeys[]> {\n    return this.request.post(`/outputs`, inputs);\n  }\n\n  async makeMultisignTransaction(txInput: RawTransactionInput): Promise<string> {\n    // validate ...\n    const { inputs, memo, outputs } = txInput;\n    const tx: Transaction = {\n      version: TxVersion,\n      asset: newHash(inputs[0].asset_id),\n      extra: base64url(Buffer.from(memo)),\n      inputs: [],\n      outputs: [],\n    };\n    // add input\n    for (const input of inputs) {\n      tx.inputs!.push({\n        hash: input.transaction_hash,\n        index: input.output_index,\n      });\n    }\n    let change = inputs.reduce((sum, input) => sum.plus(new BigNumber(input.amount)), new BigNumber(0));\n    for (const output of outputs) change = change.minus(new BigNumber(output.amount));\n    if (change.gt(new BigNumber(0)))\n      outputs.push({\n        receivers: inputs[0].members,\n        threshold: inputs[0].threshold,\n        amount: change.toString(),\n      });\n    const ghostInputs: GhostInput[] = [];\n    outputs.forEach((output, idx) =>\n      ghostInputs.push({\n        receivers: output.receivers,\n        index: idx,\n        hint: txInput.hint,\n      }),\n    );\n    // get ghost keys\n    const ghosts = await this.batchReadGhostKeys(ghostInputs);\n    outputs.forEach((output, idx) => tx.outputs!.push(DumpOutputFromGhostKey(ghosts[idx], output.amount, output.threshold)));\n    return dumpTransaction(tx);\n  }\n}\n","import { AxiosInstance } from 'axios';\nimport { getSignPIN } from '../mixin/sign';\nimport { Keystore } from '../types';\nimport { PINClientRequest, Turn } from '../types/pin';\n\nexport class PINClient implements PINClientRequest {\n  keystore!: Keystore;\n  request!: AxiosInstance;\n\n  verifyPin(pin?: string): Promise<void> {\n    pin = getSignPIN(this.keystore, pin);\n    return this.request.post('/pin/verify', { pin });\n  }\n\n  modifyPin(pin: string, old_pin?: string): Promise<void> {\n    pin = getSignPIN(this.keystore, pin);\n    if (old_pin) old_pin = getSignPIN(this.keystore, old_pin);\n    return this.request.post('/pin/update', { old_pin, pin });\n  }\n\n  readTurnServers(): Promise<Turn[]> {\n    return this.request.get('/turn');\n  }\n}\n","import { AxiosInstance } from 'axios';\nimport { request } from '../services/request';\nimport { Snapshot, SnapshotClientRequest, SnapshotQuery } from '../types';\n\nexport class SnapshotClient implements SnapshotClientRequest {\n  request!: AxiosInstance;\n\n  readSnapshots(params?: SnapshotQuery): Promise<Snapshot[]> {\n    return this.request.get(`/snapshots`, { params });\n  }\n\n  readNetworkSnapshots(params?: SnapshotQuery): Promise<Snapshot[]> {\n    return this.request.get(`/network/snapshots`, { params });\n  }\n\n  readSnapshot(snapshot_id: string): Promise<Snapshot> {\n    return this.request.get(`/snapshots/${snapshot_id}`);\n  }\n\n  readNetworkSnapshot(snapshot_id: string): Promise<Snapshot> {\n    return this.request.get(`/network/snapshots/${snapshot_id}`);\n  }\n}\n\nexport const readSnapshots = (token: string, params: SnapshotQuery): Promise<Snapshot[]> => request(undefined, token).get('/snapshots', { params });\n\nexport const readSnapshot = (token: string, snapshot_id: string): Promise<Snapshot> => request(undefined, token).get(`/snapshots/${snapshot_id}`);\n","import { AxiosInstance } from 'axios';\nimport { getSignPIN } from '../mixin/sign';\nimport { mixinRequest } from '../services/request';\nimport { Keystore, Snapshot, TransactionInput } from '../types';\nimport { Payment, RawTransaction, TransferClientRequest, TransferInput, WithdrawInput } from '../types/transfer';\n\nexport class TransferClient implements TransferClientRequest {\n  keystore!: Keystore;\n  request!: AxiosInstance;\n\n  verifyPayment(params: TransferInput | TransactionInput): Promise<Payment> {\n    return this.request.post('/payments', params);\n  }\n\n  transfer(params: TransferInput, pin?: string): Promise<Snapshot> {\n    params.pin = getSignPIN(this.keystore, pin);\n    return this.request.post('/transfers', params);\n  }\n\n  readTransfer(trace_id: string): Promise<Snapshot> {\n    return this.request.get(`/transfers/trace/${trace_id}`);\n  }\n\n  transaction(params: TransactionInput, pin?: string): Promise<RawTransaction> {\n    params.pin = getSignPIN(this.keystore, pin);\n    return this.request.post('/transactions', params);\n  }\n\n  sendRawTransaction(raw: string): Promise<{ hash: string }> {\n    return this.request.post('/external/proxy', { method: 'sendrawtransaction', params: [raw] });\n  }\n\n  withdraw(params: WithdrawInput, pin?: string): Promise<Snapshot> {\n    params.pin = getSignPIN(this.keystore, pin);\n    return this.request.post('/withdrawals', params);\n  }\n}\n\nexport const verifyPayment = (params: TransactionInput | TransferInput): Promise<Snapshot[]> => mixinRequest.post('/payments', params);\n","import { AxiosInstance } from 'axios';\nimport { getSignPIN } from '../mixin/sign';\nimport { AuthData, Keystore, OauthClientRequest, Scope } from '../types';\nimport { gzip, ungzip } from 'pako';\nimport WebSocket from 'ws';\nexport class OauthClient implements OauthClientRequest {\n  keystore!: Keystore;\n  request!: AxiosInstance;\n  newUUID!: () => string;\n\n  authorizeToken(code: string, client_secret?: string, code_verifier?: string): Promise<{ access_token: string; scope: string }> {\n    if (!client_secret) client_secret = this.keystore.client_secret;\n    if (!client_secret) return Promise.reject(new Error('client_secret required'));\n    return this.request.post('/oauth/token', {\n      client_secret,\n      code,\n      code_verifier,\n      client_id: this.keystore.client_id,\n    });\n  }\n\n  async getAuthorizeCode(params: { client_id: string; scopes?: Scope[]; pin?: string }): Promise<AuthData> {\n    const { client_id, scopes: _scopes, pin } = params;\n    const { authorization_id, scopes } = await this.getAuthorizeData(client_id, _scopes);\n    const pin_base64 = getSignPIN(this.keystore, pin);\n    return this.request.post('/oauth/authorize', { authorization_id, scopes, pin_base64 });\n  }\n\n  getAuthorizeData(client_id: string, _scope?: Scope[]): Promise<AuthData> {\n    return new Promise((resolve, reject) => {\n      let ws = new WebSocket('wss://blaze.mixin.one', 'Mixin-OAuth-1');\n      if (!_scope) _scope = [];\n      if (!_scope.includes('PROFILE:READ')) _scope.push('PROFILE:READ');\n      const scope = _scope?.join(' ');\n      const sendRefreshCode = (authorization_id = '') => {\n        ws.send(\n          gzip(\n            JSON.stringify({\n              id: this.newUUID().toUpperCase(),\n              action: 'REFRESH_OAUTH_CODE',\n              params: { client_id, scope, authorization_id, code_challenge: '' },\n            }),\n          ),\n        );\n      };\n\n      ws.addEventListener('message', event => {\n        const msg = ungzip(event.data, { to: 'string' });\n        const authorization: { data: AuthData } = JSON.parse(msg);\n        ws.close();\n        if (!authorization.data) {\n          return reject(authorization);\n        }\n        return resolve(authorization.data);\n      });\n\n      ws.addEventListener('open', () => sendRefreshCode());\n    });\n  }\n}\n","import { parse as UUIDParse } from 'uuid';\nimport { newHash } from './tools';\nimport { Encoder } from './encoder';\nimport { base64url } from './sign';\n\nconst Prefix = 'NFO';\nconst Version = 0x00;\n\nconst DefaultChain = '43d61dcd-e413-450d-80b8-101d5e903357';\nconst DefaultClass = '3c8c161a18ae2c8b14fda1216fff7da88c419b5d';\n\nexport function buildMintCollectibleMemo(collection_id: string, token_id: string, content: string): string {\n  const encoder = new Encoder(Buffer.from(Prefix, 'utf8'));\n  encoder.write(Buffer.from([Version]));\n\n  encoder.write(Buffer.from([1]));\n  encoder.writeUint64(BigInt(1));\n  encoder.writeUUID(DefaultChain);\n\n  encoder.writeSlice(Buffer.from(DefaultClass, 'hex'));\n  encoder.writeSlice(Buffer.from(UUIDParse(collection_id) as Buffer));\n  encoder.writeSlice(Buffer.from(UUIDParse(token_id) as Buffer));\n\n  encoder.writeSlice(Buffer.from(newHash(content), 'hex'));\n  return base64url(encoder.buf);\n}\n","import { AxiosInstance } from 'axios';\nimport {\n  Keystore,\n  TransactionInput,\n  GhostInput,\n  GhostKeys,\n  CollectiblesClientRequest,\n  CollectiblesParams,\n  CollectibleToken,\n  RawCollectibleInput,\n  Transaction,\n  CollectibleAction,\n  CollectibleRequest,\n  CollectibleOutput,\n} from '../types';\nimport { DumpOutputFromGhostKey, dumpTransaction } from '../mixin/dump_transaction';\nimport { hashMember } from '../mixin/tools';\nimport { TxVersion } from '../mixin/encoder';\nimport { getSignPIN } from '../mixin/sign';\nimport { buildMintCollectibleMemo } from '../mixin/nfo';\nimport { request } from '../services/request';\n\nconst MintAssetID = 'c94ac88f-4671-3976-b60a-09064f1811e8';\nconst MintMinimumCost = '0.001';\nconst GroupMembers = [\n  '4b188942-9fb0-4b99-b4be-e741a06d1ebf',\n  'dd655520-c919-4349-822f-af92fabdbdf4',\n  '047061e6-496d-4c35-b06b-b0424a8a400d',\n  'acf65344-c778-41ee-bacb-eb546bacfb9f',\n  'a51006d0-146b-4b32-a2ce-7defbf0d7735',\n  'cf4abd9c-2cfa-4b5a-b1bd-e2b61a83fabd',\n  '50115496-7247-4e2c-857b-ec8680756bee',\n];\nconst GroupThreshold = 5;\n\nexport class CollectiblesClient implements CollectiblesClientRequest {\n  keystore!: Keystore;\n  request!: AxiosInstance;\n  batchReadGhostKeys!: (inputs: GhostInput[]) => Promise<GhostKeys[]>;\n\n  newMintCollectibleTransferInput(p: CollectiblesParams): TransactionInput {\n    const { trace_id, collection_id, token_id, content } = p;\n    if (!trace_id || !collection_id || !token_id || !content) throw new Error('Missing parameters');\n    const input: TransactionInput = {\n      asset_id: MintAssetID,\n      amount: MintMinimumCost,\n      trace_id,\n      memo: buildMintCollectibleMemo(collection_id, token_id, content),\n      opponent_multisig: {\n        receivers: GroupMembers,\n        threshold: GroupThreshold,\n      },\n    };\n    return input;\n  }\n\n  readCollectibleToken(id: string): Promise<CollectibleToken> {\n    return this.request.get(`/collectibles/tokens/` + id);\n  }\n\n  readCollectibleOutputs(_members: string[], threshold: number, offset: string, limit: number): Promise<CollectibleOutput[]> {\n    const members = hashMember(_members);\n    return this.request.get(`/collectibles/outputs`, {\n      params: { members, threshold, offset, limit },\n    });\n  }\n\n  async makeCollectibleTransactionRaw(txInput: RawCollectibleInput): Promise<string> {\n    const { token, output, receivers, threshold } = txInput;\n    const tx: Transaction = {\n      version: TxVersion,\n      asset: token.mixin_id!,\n      extra: token.nfo!,\n      inputs: [\n        {\n          hash: output.transaction_hash!,\n          index: output.output_index!,\n        },\n      ],\n    };\n    const ghostInputs = await this.batchReadGhostKeys([\n      {\n        receivers,\n        index: 0,\n        hint: output.output_id!,\n      },\n    ]);\n    tx.outputs = [DumpOutputFromGhostKey(ghostInputs[0], output.amount!, threshold)];\n    return dumpTransaction(tx);\n  }\n\n  createCollectibleRequest(action: CollectibleAction, raw: string): Promise<CollectibleRequest> {\n    return this.request.post(`/collectibles/requests`, { action, raw });\n  }\n\n  signCollectibleRequest(requestId: string, pin?: string): Promise<CollectibleRequest> {\n    pin = getSignPIN(this.keystore, pin);\n    return this.request.post(`/collectibles/requests/${requestId}/sign`, {\n      pin,\n    });\n  }\n\n  cancelCollectibleRequest(requestId: string): Promise<void> {\n    return this.request.post(`/collectibles/requests/${requestId}/cancel`);\n  }\n\n  unlockCollectibleRequest(requestId: string, pin?: string): Promise<void> {\n    pin = getSignPIN(this.keystore, pin);\n    return this.request.post(`/collectibles/requests/${requestId}/unlock`, {\n      pin,\n    });\n  }\n}\n\nexport const createCollectibleRequest = (token: string, action: CollectibleAction, raw: string): Promise<CollectibleRequest> =>\n  request(undefined, token).post(`/collectibles/requests`, { action, raw });\n","export const mvmRPCUri = 'https://geth.mvm.dev';\n\nexport const registryAddress = '0x3c84B6C98FBeB813e05a7A7813F0442883450B1F';\n\nexport const registryProcess = 'bd670872-76ce-3263-b933-3aa337e212a4';\n\nexport const storageAddress = '0xef241988D19892fE4efF4935256087F4fdc5ecAa';\n\nexport const registryAbi = [\n  {\n    inputs: [\n      {\n        internalType: 'bytes',\n        name: 'raw',\n        type: 'bytes',\n      },\n      {\n        internalType: 'uint128',\n        name: 'pid',\n        type: 'uint128',\n      },\n    ],\n    stateMutability: 'nonpayable',\n    type: 'constructor',\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: 'address',\n        name: 'at',\n        type: 'address',\n      },\n      {\n        indexed: false,\n        internalType: 'uint256',\n        name: 'id',\n        type: 'uint256',\n      },\n    ],\n    name: 'AssetCreated',\n    type: 'event',\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        components: [\n          {\n            internalType: 'uint64',\n            name: 'nonce',\n            type: 'uint64',\n          },\n          {\n            internalType: 'address',\n            name: 'user',\n            type: 'address',\n          },\n          {\n            internalType: 'address',\n            name: 'asset',\n            type: 'address',\n          },\n          {\n            internalType: 'uint256',\n            name: 'amount',\n            type: 'uint256',\n          },\n          {\n            internalType: 'bytes',\n            name: 'extra',\n            type: 'bytes',\n          },\n          {\n            internalType: 'uint64',\n            name: 'timestamp',\n            type: 'uint64',\n          },\n          {\n            internalType: 'uint256[2]',\n            name: 'sig',\n            type: 'uint256[2]',\n          },\n        ],\n        indexed: false,\n        internalType: 'struct Registry.Event',\n        name: 'evt',\n        type: 'tuple',\n      },\n    ],\n    name: 'MixinEvent',\n    type: 'event',\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: 'bytes',\n        name: '',\n        type: 'bytes',\n      },\n    ],\n    name: 'MixinTransaction',\n    type: 'event',\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: 'address',\n        name: 'at',\n        type: 'address',\n      },\n      {\n        indexed: false,\n        internalType: 'bytes',\n        name: 'members',\n        type: 'bytes',\n      },\n    ],\n    name: 'UserCreated',\n    type: 'event',\n  },\n  {\n    inputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256',\n      },\n    ],\n    name: 'GROUP',\n    outputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256',\n      },\n    ],\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    inputs: [],\n    name: 'HALTED',\n    outputs: [\n      {\n        internalType: 'bool',\n        name: '',\n        type: 'bool',\n      },\n    ],\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    inputs: [],\n    name: 'INBOUND',\n    outputs: [\n      {\n        internalType: 'uint64',\n        name: '',\n        type: 'uint64',\n      },\n    ],\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    inputs: [],\n    name: 'OUTBOUND',\n    outputs: [\n      {\n        internalType: 'uint64',\n        name: '',\n        type: 'uint64',\n      },\n    ],\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    inputs: [],\n    name: 'PID',\n    outputs: [\n      {\n        internalType: 'uint128',\n        name: '',\n        type: 'uint128',\n      },\n    ],\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    inputs: [],\n    name: 'VERSION',\n    outputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256',\n      },\n    ],\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    inputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256',\n      },\n    ],\n    name: 'addresses',\n    outputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address',\n      },\n    ],\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address',\n      },\n    ],\n    name: 'assets',\n    outputs: [\n      {\n        internalType: 'uint128',\n        name: '',\n        type: 'uint128',\n      },\n    ],\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    inputs: [\n      {\n        internalType: 'uint128',\n        name: '',\n        type: 'uint128',\n      },\n    ],\n    name: 'balances',\n    outputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256',\n      },\n    ],\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'user',\n        type: 'address',\n      },\n      {\n        internalType: 'uint256',\n        name: 'amount',\n        type: 'uint256',\n      },\n    ],\n    name: 'burn',\n    outputs: [\n      {\n        internalType: 'bool',\n        name: '',\n        type: 'bool',\n      },\n    ],\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'asset',\n        type: 'address',\n      },\n      {\n        internalType: 'uint256',\n        name: 'amount',\n        type: 'uint256',\n      },\n    ],\n    name: 'claim',\n    outputs: [\n      {\n        internalType: 'bool',\n        name: '',\n        type: 'bool',\n      },\n    ],\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n  {\n    inputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256',\n      },\n    ],\n    name: 'contracts',\n    outputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address',\n      },\n    ],\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    inputs: [\n      {\n        internalType: 'uint256',\n        name: '',\n        type: 'uint256',\n      },\n    ],\n    name: 'deposits',\n    outputs: [\n      {\n        internalType: 'uint128',\n        name: '',\n        type: 'uint128',\n      },\n    ],\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    inputs: [\n      {\n        internalType: 'bytes',\n        name: 'raw',\n        type: 'bytes',\n      },\n    ],\n    name: 'evolve',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n  {\n    inputs: [\n      {\n        internalType: 'bytes',\n        name: 'raw',\n        type: 'bytes',\n      },\n    ],\n    name: 'halt',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n  {\n    inputs: [\n      {\n        internalType: 'bytes',\n        name: 'raw',\n        type: 'bytes',\n      },\n    ],\n    name: 'iterate',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n  {\n    inputs: [\n      {\n        internalType: 'bytes',\n        name: 'raw',\n        type: 'bytes',\n      },\n    ],\n    name: 'mixin',\n    outputs: [\n      {\n        internalType: 'bool',\n        name: '',\n        type: 'bool',\n      },\n    ],\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: '',\n        type: 'address',\n      },\n    ],\n    name: 'users',\n    outputs: [\n      {\n        internalType: 'bytes',\n        name: '',\n        type: 'bytes',\n      },\n    ],\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    inputs: [\n      {\n        internalType: 'address',\n        name: '_storageContract',\n        type: 'address',\n      },\n      {\n        internalType: 'bytes32',\n        name: '_key',\n        type: 'bytes32',\n      },\n      {\n        internalType: 'bytes',\n        name: 'raw',\n        type: 'bytes',\n      },\n    ],\n    name: 'writeValue',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n];\n","import { TransactionInput, ContractParams, PaymentGenerateParams, MvmClientRequest, Payment, TransferInput } from '../types';\nimport { parse, stringify } from 'uuid';\nimport { Encoder } from '../mixin/encoder';\nimport { base64url } from '../mixin/sign';\nimport { BigNumber, ethers, utils } from 'ethers';\nimport { mvmRPCUri, registryAddress, registryProcess, registryAbi } from '../mixin/mvm';\n// import axios from 'axios';\n\n// const OperationPurposeUnknown = 0\nconst OperationPurposeGroupEvent = 1;\n// const OperationPurposeAddProcess = 11\n// const OperationPurposeCreditProcess = 12\n\n// const mvmClient = axios.create({\n//   baseURL: 'https://api.test.mvm.dev',\n// });\n\nconst receivers = [\n  'd5a3a450-5619-47af-a3b1-aad08e6e10dd',\n  '9d4a18aa-9b0a-40ed-ba57-ce8fbbbc6deb',\n  '2f82a56a-7fae-4bdd-bc4d-aad5005c5041',\n  'f7f33be1-399a-4d29-b50c-44e5f01cbb1b',\n  '23a070df-6b87-4b66-bdd4-f009702770c9',\n  '2385639c-eac1-4a38-a7f6-597b3f0f5b59',\n  'ab357ad7-8828-4173-b3bb-0600c518eab2',\n];\nconst threshold = 5;\n\nconst CNBAssetID = '965e5c6e-434c-3fa9-b780-c50f43cd955c';\nconst MinAmount = '0.00000001';\nexport const getContractByAssetID = (id: string): Promise<string> => getRegistryContract().contracts('0x' + Buffer.from(parse(id) as Buffer).toString('hex'));\n\nexport const getContractByUserIDs = (ids: string | string[], threshold?: number): Promise<string> => {\n  if (typeof ids === 'string') ids = [ids];\n  if (!threshold) threshold = ids.length;\n  const encoder = new Encoder(Buffer.from([]));\n  encoder.writeInt(ids.length);\n  ids.forEach(id => encoder.writeUUID(id));\n  encoder.writeInt(threshold);\n  return getRegistryContract().contracts(utils.keccak256('0x' + encoder.buf.toString('hex')));\n};\n\nexport const getAssetIDByAddress = async (contract_address: string): Promise<string> => {\n  const registry = getRegistryContract();\n  let res = await registry.assets(contract_address);\n  res instanceof BigNumber && (res = res._hex);\n  if (res.length <= 2) return '';\n  res = res.slice(2);\n  return stringify(Buffer.from(res, 'hex'));\n};\n\nexport const getUserIDByAddress = async (contract_address: string): Promise<string> => {\n  const registry = getRegistryContract();\n  let res = await registry.users(contract_address);\n  res instanceof BigNumber && (res = res._hex);\n  if (res.length <= 2) return '';\n  res = res.slice(6);\n  res = res.slice(0, 32);\n  return stringify(Buffer.from(res, 'hex'));\n};\n\nconst getRegistryContract = (address = registryAddress) => new ethers.Contract(address, registryAbi, new ethers.providers.JsonRpcProvider(mvmRPCUri));\n\nconst getMethodIdByAbi = (methodName: string, types: string[]): string => utils.id(methodName + '(' + types.join(',') + ')').slice(2, 10);\n\nconst encodeMemo = (extra: string, process: string): string => {\n  if (extra.startsWith('0x')) extra = extra.slice(2);\n  const enc = new Encoder(Buffer.from([]));\n  enc.writeInt(OperationPurposeGroupEvent);\n  enc.writeUUID(process);\n  enc.writeBytes(Buffer.from([]));\n  enc.writeBytes(Buffer.from([]));\n  enc.writeBytes(Buffer.from(extra, 'hex'));\n  return base64url(enc.buf);\n};\n\n// address\nconst getSingleExtra = ({ address, method, types = [], values = [] }: ContractParams) => {\n  if (types.length !== values.length) return '';\n\n  let addr = address.toLocaleLowerCase();\n  if (addr.startsWith('0x')) addr = addr.slice(2);\n  let contractInput = getMethodIdByAbi(method, types);\n  if (types.length != values.length) throw new Error('error: types.length!=values.length');\n  if (values.length > 0) {\n    const abiCoder = new ethers.utils.AbiCoder();\n    contractInput += abiCoder.encode(types, values).slice(2);\n  }\n\n  const inputLength = Buffer.from([0, contractInput.length / 2]).toString('hex');\n  const extra = `${addr}${inputLength}${contractInput}`;\n  return extra;\n};\n\n/**  Get extra for multiple contracts calling, started with number of contracts to be called */\nconst getExtra = (contracts: ContractParams[]) => {\n  if (contracts.length === 0) return '';\n  let extra = Buffer.from([0, contracts.length]).toString('hex');\n\n  for (let i = 0; i < contracts.length; i++) {\n    const singleExtra = Buffer.from(getSingleExtra(contracts[i]));\n    extra += singleExtra;\n  }\n\n  return '0x' + extra;\n};\n\nexport class MvmClient implements MvmClientRequest {\n  newUUID!: () => string;\n  verifyPayment!: (params: TransferInput | TransactionInput) => Promise<Payment>;\n  async paymentGeneratorByContract(params: PaymentGenerateParams): Promise<Payment | TransactionInput> {\n    if (!params.contract && !params.contracts) throw new Error('error: contract or contracts is required');\n    if (params.contract) params.contracts = [params.contract];\n    const extra = getExtra(params.contracts!);\n    const { asset, amount, trace, type = 'payment' } = params.payment || {};\n    let memo = encodeMemo(extra, registryProcess).slice(2);\n    const txInput = {\n      asset_id: asset || CNBAssetID,\n      amount: amount || MinAmount,\n      trace_id: trace || this.newUUID(),\n      memo,\n      opponent_multisig: { receivers, threshold },\n    };\n    // if (memo.length > 200) {\n    //   // 上传的memo太长，则截取前200个字符\n    //   txInput.memo = extra;\n    //   const data = await mvmClient.post(`/payments`, txInput);\n    //   console.log(data);\n    //   return data.data;\n    // }\n    if (type === 'tx') return txInput;\n    if (type === 'payment') return this.verifyPayment(txInput);\n    throw new Error('error: type is invalid. type should be tx or payment');\n  }\n}\n","import * as crypto from 'crypto';\nimport { v4 as uuid } from 'uuid';\nimport { AxiosInstance } from 'axios';\nimport { mixinRequest, request } from '../services/request';\nimport { UserClient } from './user';\nimport { AddressClient } from './address';\nimport {\n  AddressClientRequest,\n  AddressCreateParams,\n  Address,\n  AppClientRequest,\n  UpdateAppRequest,\n  App,\n  FavoriteApp,\n  AssetClientRequest,\n  Asset,\n  ExchangeRate,\n  NetworkTicker,\n  Attachment,\n  AttachmentClientRequest,\n  CollectiblesParams,\n  CollectibleToken,\n  CollectibleAction,\n  CollectibleRequest,\n  CollectibleOutput,\n  RawCollectibleInput,\n  ConversationClientRequest,\n  ConversationCreateParams,\n  Conversation,\n  ConversationUpdateParams,\n  Participant,\n  ConversationAction,\n  MessageClientRequest,\n  AcknowledgementRequest,\n  MessageRequest,\n  MessageView,\n  ImageMessage,\n  DataMessage,\n  StickerMessage,\n  ContactMessage,\n  AppCardMessage,\n  AudioMessage,\n  LiveMessage,\n  LocationMessage,\n  VideoMessage,\n  AppButtonMessage,\n  RecallMessage,\n  TransactionInput,\n  RawTransactionInput,\n  MultisigClientRequest,\n  MultisigRequest,\n  MultisigUTXO,\n  PINClientRequest,\n  Turn,\n  SnapshotClientRequest,\n  Snapshot,\n  SnapshotQuery,\n  TransferClientRequest,\n  TransferInput,\n  Payment,\n  GhostInput,\n  GhostKeys,\n  WithdrawInput,\n  RawTransaction,\n  UserClientRequest,\n  User,\n  UserRelationship,\n  Keystore,\n  MvmClientRequest,\n  PaymentGenerateParams,\n  OauthClientRequest,\n  AuthData,\n  Scope,\n  EncryptMessageView,\n  Session,\n} from '../types';\nimport { AppClient } from './app';\nimport { AssetClient } from './asset';\nimport { AttachmentClient } from './attachment';\nimport { ConversationClient } from './conversation';\nimport { MessageClient } from './message';\nimport { MultisigsClient } from './multisigs';\nimport { PINClient } from './pin';\nimport { SnapshotClient } from './snapshot';\nimport { TransferClient } from './transfer';\nimport { OauthClient } from './oauth';\n\nexport { verifyPayment } from './transfer';\nimport { CollectiblesClient } from './collectibles';\nimport { MvmClient } from './mvm';\n\nexport * from './mvm';\n\nexport class Client\n  implements\n    AddressClientRequest,\n    AppClientRequest,\n    AssetClientRequest,\n    AttachmentClientRequest,\n    CollectiblesClient,\n    ConversationClientRequest,\n    MessageClientRequest,\n    MultisigClientRequest,\n    PINClientRequest,\n    SnapshotClientRequest,\n    TransferClientRequest,\n    UserClientRequest,\n    MvmClientRequest,\n    OauthClientRequest\n{\n  request: AxiosInstance;\n  keystore: Keystore;\n\n  constructor(keystore?: Keystore, token?: string) {\n    if (!keystore && !token) throw new Error('keystore or token required');\n    this.keystore = keystore!;\n    this.request = request(keystore, token);\n  }\n\n  // Address...\n  createAddress!: (params: AddressCreateParams, pin?: string) => Promise<Address>;\n  readAddress!: (address_id: string) => Promise<Address>;\n  readAddresses!: (asset_id: string) => Promise<Address[]>;\n  deleteAddress!: (address_id: string, pin?: string) => Promise<void>;\n\n  // App...\n  updateApp!: (appID: string, params: UpdateAppRequest) => Promise<App>;\n  readFavoriteApps!: (userID: string) => Promise<FavoriteApp[]>;\n  favoriteApp!: (appID: string) => Promise<FavoriteApp>;\n  unfavoriteApp!: (appID: string) => Promise<void>;\n\n  // Asset...\n  readAsset!: (asset_id: string) => Promise<Asset>;\n  readAssets!: () => Promise<Asset[]>;\n  readAssetFee!: (asset_id: string) => Promise<number>;\n  readAssetNetworkTicker!: (asset_id: string, offset?: string) => Promise<NetworkTicker>;\n\n  readExchangeRates!: () => Promise<ExchangeRate[]>;\n\n  // Attachment...\n  createAttachment!: () => Promise<Attachment>;\n  showAttachment!: (attachment_id: string) => Promise<Attachment>;\n  uploadFile!: (file: File) => Promise<Attachment>;\n\n  // Collectibles...\n  newMintCollectibleTransferInput!: (p: CollectiblesParams) => TransactionInput;\n\n  readCollectibleToken!: (id: string) => Promise<CollectibleToken>;\n  readCollectibleOutputs!: (members: string[], threshold: number, offset: string, limit: number) => Promise<CollectibleOutput[]>;\n  makeCollectibleTransactionRaw!: (txInput: RawCollectibleInput) => Promise<string>;\n  createCollectibleRequest!: (action: CollectibleAction, raw: string) => Promise<CollectibleRequest>;\n  signCollectibleRequest!: (requestId: string, pin?: string) => Promise<CollectibleRequest>;\n  cancelCollectibleRequest!: (requestId: string) => Promise<void>;\n  unlockCollectibleRequest!: (requestId: string, pin?: string) => Promise<void>;\n\n  // Conversation...\n  createConversation!: (params: ConversationCreateParams) => Promise<Conversation>;\n  updateConversation!: (conversationID: string, params: ConversationUpdateParams) => Promise<Conversation>;\n  createContactConversation!: (userID: string) => Promise<Conversation>;\n  createGroupConversation!: (conversationID: string, name: string, participant: Participant[]) => Promise<Conversation>;\n  readConversation!: (conversationID: string) => Promise<Conversation>;\n  managerConversation!: (conversationID: string, action: ConversationAction, participant: Participant[]) => Promise<Conversation>;\n  addParticipants!: (conversationID: string, userIDs: string[]) => Promise<Conversation>;\n  removeParticipants!: (conversationID: string, userIDs: string[]) => Promise<Conversation>;\n  adminParticipants!: (conversationID: string, userIDs: string[]) => Promise<Conversation>;\n  rotateConversation!: (conversationID: string) => Promise<Conversation>;\n\n  // Message...\n  sendAcknowledgements!: (messages: AcknowledgementRequest[]) => Promise<void>;\n  sendAcknowledgement!: (message: AcknowledgementRequest) => Promise<void>;\n  sendMessage!: (message: MessageRequest) => Promise<MessageView>;\n  sendMessages!: (messages: MessageRequest[]) => Promise<undefined>;\n  sendMessageText!: (userID: string, text: string) => Promise<MessageView>;\n  sendMessagePost!: (userID: string, text: string) => Promise<MessageView>;\n  sendTextMsg!: (userID: string, text: string) => Promise<MessageView>;\n  sendPostMsg!: (userID: string, text: string) => Promise<MessageView>;\n  sendImageMsg!: (userID: string, image: ImageMessage) => Promise<MessageView>;\n  sendDataMsg!: (userID: string, data: DataMessage) => Promise<MessageView>;\n  sendStickerMsg!: (userID: string, sticker: StickerMessage) => Promise<MessageView>;\n  sendContactMsg!: (userID: string, contact: ContactMessage) => Promise<MessageView>;\n  sendAppCardMsg!: (userID: string, appCard: AppCardMessage) => Promise<MessageView>;\n  sendAudioMsg!: (userID: string, audio: AudioMessage) => Promise<MessageView>;\n  sendLiveMsg!: (userID: string, live: LiveMessage) => Promise<MessageView>;\n  sendVideoMsg!: (userID: string, video: VideoMessage) => Promise<MessageView>;\n  sendLocationMsg!: (userID: string, location: LocationMessage) => Promise<MessageView>;\n  sendAppButtonMsg!: (userID: string, appButton: AppButtonMessage[]) => Promise<MessageView>;\n  sendRecallMsg!: (userID: string, message: RecallMessage) => Promise<MessageView>;\n\n  sendEncryptMessage!: (message: MessageRequest) => Promise<EncryptMessageView>;\n  sendEncryptMessages!: (messages: MessageRequest[]) => Promise<EncryptMessageView[]>;\n  sendEncryptTextMsg!: (userID: string, text: string) => Promise<EncryptMessageView>;\n  sendEncryptPostMsg!: (userID: string, text: string) => Promise<EncryptMessageView>;\n  sendEncryptImageMsg!: (userID: string, image: ImageMessage) => Promise<EncryptMessageView>;\n  sendEncryptDataMsg!: (userID: string, data: DataMessage) => Promise<EncryptMessageView>;\n  sendEncryptStickerMsg!: (userID: string, sticker: StickerMessage) => Promise<EncryptMessageView>;\n  sendEncryptContactMsg!: (userID: string, contact: ContactMessage) => Promise<EncryptMessageView>;\n  sendEncryptAudioMsg!: (userID: string, audio: AudioMessage) => Promise<EncryptMessageView>;\n  sendEncryptLiveMsg!: (userID: string, live: LiveMessage) => Promise<EncryptMessageView>;\n  sendEncryptVideoMsg!: (userID: string, video: VideoMessage) => Promise<EncryptMessageView>;\n  sendEncryptLocationMsg!: (userID: string, location: LocationMessage) => Promise<EncryptMessageView>;\n\n  getSessions!: (userIDs: string[]) => Promise<Session[]>;\n\n  // Multisigs...\n  readMultisigs!: (offset: string, limit: number) => Promise<MultisigUTXO[]>;\n  readMultisigOutput!: (id: string) => Promise<MultisigUTXO>;\n  readMultisigOutputs!: (members: string[], threshold: number, offset: string, limit: number) => Promise<MultisigUTXO[]>;\n  createMultisig!: (action: string, raw: string) => Promise<MultisigRequest>;\n  signMultisig!: (request_id: string, pin?: string) => Promise<MultisigRequest>;\n  cancelMultisig!: (request_id: string) => Promise<void>;\n  unlockMultisig!: (request_id: string, pin?: string) => Promise<void>;\n  sendRawTransaction!: (raw: string) => Promise<{ hash: string }>;\n  readGhostKeys!: (receivers: string[], index: number) => Promise<GhostKeys>;\n  batchReadGhostKeys!: (inputs: GhostInput[]) => Promise<GhostKeys[]>;\n  makeMultisignTransaction!: (txInput: RawTransactionInput) => Promise<string>;\n\n  // Mvm...\n  paymentGeneratorByContract!: (params: PaymentGenerateParams) => Promise<Payment | TransactionInput>;\n\n  // Pin...\n  verifyPin!: (pin: string) => Promise<void>;\n  modifyPin!: (pin: string, oldPin?: string) => Promise<void>;\n  readTurnServers!: () => Promise<Turn[]>;\n\n  // Snapshot...\n  readSnapshots!: (params?: SnapshotQuery) => Promise<Snapshot[]>;\n  readNetworkSnapshots!: (params?: SnapshotQuery) => Promise<Snapshot[]>;\n  readSnapshot!: (snapshot_id: string) => Promise<Snapshot>;\n  readNetworkSnapshot!: (snapshot_id: string) => Promise<Snapshot>;\n\n  // Transfer...\n  verifyPayment!: (params: TransferInput | TransactionInput) => Promise<Payment>;\n  transfer!: (params: TransferInput, pin?: string) => Promise<Snapshot>;\n  readTransfer!: (trace_id: string) => Promise<Snapshot>;\n  transaction!: (params: TransactionInput, pin?: string) => Promise<RawTransaction>;\n  withdraw!: (params: WithdrawInput, pin?: string) => Promise<Snapshot>;\n\n  // User...\n  userMe!: () => Promise<User>;\n  readUser!: (userIdOrIdentityNumber: string) => Promise<User>;\n  readUsers!: (userIDs: string[]) => Promise<User[]>;\n  searchUser!: (identityNumberOrPhone: string) => Promise<User>;\n  readFriends!: () => Promise<User[]>;\n  createUser!: (full_name: string, session_secret?: string) => Promise<User>;\n  modifyProfile!: (full_name?: string, avatar_base64?: string) => Promise<User>;\n  modifyRelationships!: (relationship: UserRelationship) => Promise<User>;\n  readBlockUsers!: () => Promise<User[]>;\n\n  // Oauth...\n  authorizeToken!: (code: string, client_secret?: string, code_verifier?: string) => Promise<{ access_token: string; scope: string }>;\n  getAuthorizeCode!: (params: { client_id: string; scopes?: Scope[]; pin?: string }) => Promise<AuthData>;\n\n  newUUID(): string {\n    return uuid();\n  }\n\n  uniqueConversationID(userID: string, recipientID: string): string {\n    let [minId, maxId] = [userID, recipientID];\n    if (minId > maxId) {\n      [minId, maxId] = [recipientID, userID];\n    }\n\n    const hash = crypto.createHash('md5');\n    hash.update(minId);\n    hash.update(maxId);\n    const bytes = hash.digest();\n\n    bytes[6] = (bytes[6] & 0x0f) | 0x30;\n    bytes[8] = (bytes[8] & 0x3f) | 0x80;\n\n    const digest = Array.from(bytes, byte => `0${(byte & 0xff).toString(16)}`.slice(-2)).join('');\n    return `${digest.slice(0, 8)}-${digest.slice(8, 12)}-${digest.slice(12, 16)}-${digest.slice(16, 20)}-${digest.slice(20, 32)}`;\n  }\n}\n\n[\n  AddressClient,\n  AppClient,\n  AssetClient,\n  AttachmentClient,\n  ConversationClient,\n  MessageClient,\n  MultisigsClient,\n  PINClient,\n  SnapshotClient,\n  TransferClient,\n  UserClient,\n  CollectiblesClient,\n  MvmClient,\n  OauthClient,\n].forEach(client => _extends(Client, client));\n\nfunction _extends(origin: any, target: any) {\n  for (const key in target.prototype) {\n    origin.prototype[key] = target.prototype[key];\n  }\n}\n\nexport const authorizeToken = (client_id: string, code: string, client_secret: string, code_verifier?: string): Promise<{ access_token: string; scope: string }> =>\n  mixinRequest.post('/oauth/token', {\n    client_id,\n    code,\n    code_verifier,\n    client_secret,\n  });\n","import { Client } from '../client';\nimport { KeystoreAuth } from '../mixin/keystore';\nimport { signRequest } from '../mixin/sign';\nimport { AcknowledgementRequest, Keystore } from '../types';\nimport WebSocket from 'ws';\nimport { BlazeMessage, MessageView } from '../types/blaze';\nimport { gzip, ungzip } from 'pako';\nimport { decryptMessageData } from '../mixin/dump_msg';\n\nconst zeromeshUrl = 'wss://mixin-blaze.zeromesh.net';\nconst oneUrl = 'wss://blaze.mixin.one/';\n\ninterface BlazeOptions {\n  parse?: boolean; // parse message\n  syncAck?: boolean; // sync ack\n}\n\ninterface BlazeHandler {\n  onMessage: (message: MessageView) => void | Promise<void>;\n  onAckReceipt?: (message: MessageView) => void | Promise<void>;\n  onTransfer?: (transfer: MessageView) => void | Promise<void>;\n  onConversation?: (conversation: MessageView) => void | Promise<void>;\n}\n\nexport class BlazeClient extends Client {\n  ws?: WebSocket;\n  h!: BlazeHandler;\n  url = oneUrl;\n  isAlive = false;\n  pingInterval: any;\n  options: BlazeOptions = {\n    parse: false,\n    syncAck: false,\n  };\n  sendAcknowledgement!: (message: AcknowledgementRequest) => Promise<void>;\n\n  constructor(keystore?: Keystore, option?: BlazeOptions) {\n    super(keystore);\n    if (option) this.options = option;\n  }\n\n  loopBlaze(h: BlazeHandler) {\n    if (!h.onMessage) throw new Error('OnMessage not set');\n    this.h = h;\n    this._loopBlaze();\n  }\n\n  _loopBlaze() {\n    const k = new KeystoreAuth(this.keystore);\n    const headers = {\n      Authorization: 'Bearer ' + k.signToken(signRequest('GET', '/'), ''),\n    };\n    this.ws = new WebSocket(this.url, 'Mixin-Blaze-1', {\n      headers,\n      handshakeTimeout: 3000,\n    });\n    this.ws.onmessage = async event => {\n      const msg = this.decode(event.data as Uint8Array);\n      if (!msg) return;\n      if (msg.category && msg.category.startsWith('ENCRYPTED_')) {\n        msg.data = decryptMessageData(msg.data_base64!, this.keystore.session_id, this.keystore.private_key);\n      }\n      if (this.options?.parse && msg.data) {\n        msg.data = Buffer.from(msg.data, 'base64').toString();\n        if (msg.data) {\n          try {\n            msg.data = JSON.parse(msg.data);\n          } catch (e) {}\n        }\n      }\n      if (msg.source === 'ACKNOWLEDGE_MESSAGE_RECEIPT' && this.h.onAckReceipt) await this.h.onAckReceipt(msg);\n      else if (msg.category === 'SYSTEM_CONVERSATION' && this.h.onConversation) await this.h.onConversation(msg);\n      else if (msg.category === 'SYSTEM_ACCOUNT_SNAPSHOT' && this.h.onTransfer) await this.h.onTransfer(msg);\n      else await this.h.onMessage(msg);\n      if (this.options.syncAck) await this.sendAcknowledgement({ message_id: msg.message_id!, status: 'READ' });\n    };\n    this.ws.onclose = () => {\n      clearInterval(this.pingInterval);\n      this._loopBlaze();\n    };\n    this.ws.onerror = e => {\n      e.message === 'Opening handshake has timed out' && (this.url = this.url === oneUrl ? zeromeshUrl : oneUrl);\n    };\n    this.ws.on('ping', () => {\n      this.ws!.pong();\n    });\n    this.ws.on('pong', () => {\n      this.isAlive = true;\n    });\n    this.ws.onopen = () => {\n      this.isAlive = true;\n      this.heartbeat();\n      this.send_raw({ id: this.newUUID(), action: 'LIST_PENDING_MESSAGES' });\n    };\n  }\n\n  heartbeat() {\n    this.pingInterval = setInterval(() => {\n      if (this.ws!.readyState === WebSocket.CONNECTING) return;\n      if (!this.isAlive) return this.ws!.terminate();\n      this.isAlive = false;\n      this.ws!.ping();\n    }, 1000 * 30);\n  }\n\n  decode(data: Uint8Array): MessageView {\n    const t = ungzip(data, { to: 'string' });\n    const msgObj = JSON.parse(t);\n    return msgObj.data;\n  }\n\n  send_raw(message: BlazeMessage) {\n    return new Promise(resolve => {\n      const buffer = Buffer.from(JSON.stringify(message), 'utf-8');\n      const zipped = gzip(buffer);\n      if (this.ws!.readyState === WebSocket.OPEN) {\n        this.ws!.send(zipped);\n        resolve(true);\n      } else {\n        resolve(false);\n      }\n    });\n  }\n}\n","import { mixinRequest } from '../services/request';\nimport { Asset, NetworkTicker, Snapshot, SnapshotQuery, Transaction } from '../types';\n\nexport const readNetworkChains = (): Promise<Asset[]> => mixinRequest.get('/network/chains');\n\n// only support limit/offset/asset/order\nexport const readNetworkSnapshots = (params: SnapshotQuery): Promise<Snapshot[]> => mixinRequest.get('/network/snapshots', { params });\n\nexport const readNetworkSnapshot = (id: string): Promise<Snapshot> => mixinRequest.get(`/network/snapshots/${id}`);\n\nexport const readExternalTransactions = (params: SnapshotQuery): Promise<Transaction[]> => mixinRequest.get('/external/transactions', { params });\n\nexport const readNetworkAssetsTop = (): Promise<Asset[]> => mixinRequest.get('/network/assets/top');\n\nexport const readNetworkAssetsMultisig = (): Promise<Asset[]> => mixinRequest.get('/network/assets/multisig');\n\nexport const readNetworkAsset = (id: string): Promise<Asset> => mixinRequest.get(`/network/assets/${id}`);\n\nexport const searchNetworkAsset = (assetNameOrSymbol: string): Promise<Asset[]> => mixinRequest.get(`/network/assets/search/${assetNameOrSymbol}`);\n\nexport const readExternalAddressesCheck = (params: SnapshotQuery): Promise<boolean> => mixinRequest.get(`/external/addresses/check`, { params });\n\nexport const readNetworkTicker = (asset_id: string, offset?: string): Promise<NetworkTicker> => mixinRequest.get(`/network/ticker`, { params: { asset: asset_id, offset } });\n\nexport const sendExternalProxy = (method: string, params: any[]): Promise<any> => mixinRequest.post(`/external/proxy`, { method, params });\n"],"names":["runtime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","generator","create","Generator","context","Context","_invoke","state","method","arg","Error","undefined","done","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","makeInvokeMethod","fn","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","result","__await","then","unwrapped","error","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","doneResult","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","globalThis","Function","getSignPIN","keystore","pin","session_id","private_key","pin_token","pinToken","privateKey","_privateKey","toBuffer","pinKey","Buffer","from","curvePriv","publicKey","sharedKey","Uint8Array","q","n","p","r","z","x","Float64Array","a","gf","b","c","d","e","f","o","unpack25519","sel25519","A","Z","S","M","x32","subarray","x16","inv25519","j","m","t","car25519","pack25519","crypto_scalarmult","scalarMult","seed","sha512","createHash","write","digest","privateKeyToCurve25519","pki","privateKeyFromPem","decrypt","md","sha256","label","hex","bytes","parseInt","substr","hexToBytes","util","binary","encode","signPin","time","Uint64LE","Date","now","buf","concat","padding","paddingArray","iv16","randomBytes","cipher","createCipheriv","setAutoPadding","encrypted_pin_buff","update","toString","content","encoding","JSON","stringify","signRequest","url","body","startsWith","replace","toUpperCase","toHex","base64url","buffer","init","v","t0","t1","t2","t3","t4","t5","t6","t7","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","b11","b12","b13","b14","b15","Math","floor","KeystoreAuth","signToken","signature","requestID","client_id","scope","issuedAt","v4","payload","uid","sid","iat","exp","jti","sig","scp","alg","typ","sign","ed25519","message","join","getEd25519Sign","algorithm","delay","setTimeout","hashMember","ids","newHash","sort","str","SHA3","getFileByURL","https","get","res","data","on","chunk","hostURL","request","token","k","ins","axios","baseURL","headers","timeout","interceptors","use","config","uri","getUri","uuid","jwtToken","Authorization","response","request_id","console","log","includes","code","defaults","mixinRequest","UserClient","userMe","readUser","userIdOrIdentityNumber","readBlockUsers","readUsers","userIDs","post","readFriends","searchUser","identityNumberOrPhone","createUser","full_name","session_secret","forge","generateKeyPair","params","u","public_key","modifyProfile","avatar_base64","updateProfile","modifyRelationships","relationship","AddressClient","createAddress","readAddress","addressID","readAddresses","assetID","deleteAddress","AppClient","updateApp","appID","readFavoriteApps","userID","favoriteApp","unfavoriteApp","AssetClient","readAsset","readAssets","readAssetFee","readExchangeRates","readAssetNetworkTicker","asset","offset","AttachmentClient","createAttachment","showAttachment","attachment_id","uploadFile","file","view_url","upload_url","uploadAttachmentTo","uploadURL","maxContentLength","ConversationClient","createConversation","updateConversation","conversationID","createContactConversation","category","conversation_id","uniqueConversationID","participants","user_id","createGroupConversation","participant","readConversation","managerConversation","action","addParticipants","map","removeParticipants","adminParticipants","role","rotateConversation","h","crypto","generateUserCheckSum","_sessions","sessions","md5","decryptMessageData","_data","sessionID","total","prefixSize","readUInt16LE","alloc","random","pub","priv","dst","iv","decipher","createDecipheriv","nonce","setAuthTag","raw","encryptMessageData","firstBlock","lastBlock","authTag","getAuthTag","cipherText","sessionLen","writeUInt16LE","Point","fromHex","toX25519","sessionsBytes","s","clientPub","padText","fill","shared","set","enc","id","uuidParse","decryptAttachment","_keys","aesKey","byteLength","_sessionCache","MessageClient","sendAcknowledgements","messages","sendAcknowledgement","sendMessage","sendMessages","sendMsg","recipient_id","message_id","newUUID","sendMessageText","text","sendMessagePost","sendTextMsg","sendPostMsg","sendImageMsg","image","sendDataMsg","sendStickerMsg","sticker","sendContactMsg","contact","sendAppCardMsg","appCard","sendAudioMsg","audio","sendLiveMsg","live","sendVideoMsg","video","sendLocationMsg","location","sendAppButtonMsg","appButton","sendRecallMsg","sendEncryptMessage","_sendEncryptMsg","isRetry","getSessionsWithCache","data_base64","checksum","recipient_sessions","sendEncryptMessagesRaw","cacheSession","sendEncryptTextMsg","sendEncryptPostMsg","sendEncryptImageMsg","sendEncryptDataMsg","sendEncryptStickerMsg","sendEncryptContactMsg","sendEncryptAudioMsg","sendEncryptLiveMsg","sendEncryptVideoMsg","sendEncryptLocationMsg","sendEncryptMessages","_messages","_sendEncryptMsgs","resp","msgs","msgMap","Map","msg","session","unsent","getSessions","needFetch","getSessionByCache","_result","existsSync","mkdirSync","sessionPath","process","cwd","writeFileSync","decryptAttachmentByMsgData","msgData","empty","magic","Encoder","writeBytes","len","writeInt","writeUInt16BE","writeUint64","writeBigUInt64BE","writeUint16","writeInteger","unshift","getIntBytes","writeSlice","l","writeUUID","parse","encodeInput","hash","index","genesis","deposit","chain","tx","transaction","amount","mint","group","batch","encodeOutput","BigNumber","times","toNumber","_this","mask","script","w","withdrawal","address","addr","tag","encodeAggregatedSignature","js","signers","max","_this2","masks","encodeSignature","sm","ss","Number","_this3","dumpTransaction","signed","version","inputs","outputs","extra","aggregated","sl","signatures","DumpOutputFromGhostKey","gi","threshold","toFixed","MultisigsClient","readMultisigs","limit","readMultisigOutput","readMultisigOutputs","members","createMultisig","signMultisig","cancelMultisig","unlockMultisig","readGhostKeys","receivers","hint","batchReadGhostKeys","makeMultisignTransaction","txInput","memo","asset_id","input","transaction_hash","output_index","change","reduce","sum","plus","minus","gt","ghostInputs","output","idx","ghosts","PINClient","verifyPin","modifyPin","old_pin","readTurnServers","SnapshotClient","readSnapshots","readNetworkSnapshots","readSnapshot","snapshot_id","readNetworkSnapshot","TransferClient","verifyPayment","transfer","readTransfer","trace_id","sendRawTransaction","withdraw","OauthClient","authorizeToken","client_secret","code_verifier","getAuthorizeCode","_scopes","scopes","getAuthorizeData","authorization_id","pin_base64","_scope","ws","WebSocket","_scope2","addEventListener","event","ungzip","to","authorization","close","send","gzip","code_challenge","buildMintCollectibleMemo","collection_id","token_id","encoder","BigInt","UUIDParse","GroupMembers","CollectiblesClient","newMintCollectibleTransferInput","opponent_multisig","readCollectibleToken","readCollectibleOutputs","_members","makeCollectibleTransactionRaw","mixin_id","nfo","output_id","createCollectibleRequest","signCollectibleRequest","requestId","cancelCollectibleRequest","unlockCollectibleRequest","registryAbi","internalType","stateMutability","anonymous","indexed","components","getAssetIDByAddress","contract_address","registry","getRegistryContract","assets","_hex","getUserIDByAddress","users","ethers","Contract","providers","JsonRpcProvider","encodeMemo","getSingleExtra","types","toLocaleLowerCase","contractInput","methodName","utils","getMethodIdByAbi","AbiCoder","getExtra","contracts","MvmClient","paymentGeneratorByContract","contract","payment","trace","Client","recipientID","minId","maxId","Array","byte","client","origin","target","_extends","oneUrl","option","syncAck","options","loopBlaze","onMessage","_loopBlaze","handshakeTimeout","onmessage","decode","source","onAckReceipt","onConversation","onTransfer","status","onclose","clearInterval","pingInterval","onerror","pong","isAlive","onopen","heartbeat","send_raw","setInterval","readyState","CONNECTING","terminate","ping","zipped","_this4","OPEN","keccak256","assetNameOrSymbol"],"mappings":"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"}